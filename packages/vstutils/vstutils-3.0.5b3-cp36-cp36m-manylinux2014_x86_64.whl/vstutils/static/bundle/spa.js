var spa=function(b){function d(c){for(var d,i,a=c[0],k=c[1],m=c[2],n=0,f=[];n<a.length;n++)i=a[n],Object.prototype.hasOwnProperty.call(h,i)&&h[i]&&f.push(h[i][0]),h[i]=0;for(d in k)Object.prototype.hasOwnProperty.call(k,d)&&(b[d]=k[d]);for(l&&l(c);f.length;)f.shift()();return j.push.apply(j,m||[]),g()}function g(){for(var a,b=0;b<j.length;b++){for(var c,d=j[b],e=!0,g=1;g<d.length;g++)c=d[g],0!==h[c]&&(e=!1);e&&(j.splice(b--,1),a=f(f.s=d[0]))}return a}function f(c){if(a[c])return a[c].exports;var d=a[c]={i:c,l:!1,exports:{}};return b[c].call(d.exports,d,d.exports,f),d.l=!0,d.exports}var a={},h={6:0},j=[];f.m=b,f.c=a,f.d=function(a,b,c){f.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:c})},f.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},f.t=function(a,b){if(1&b&&(a=f(a)),8&b)return a;if(4&b&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(f.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var d in a)f.d(c,d,function(b){return a[b]}.bind(null,d));return c},f.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return f.d(b,"a",b),b},f.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},f.p="/static/bundle/";var e=window.webpackJsonp_name_=window.webpackJsonp_name_||[],i=e.push.bind(e);e.push=d,e=e.slice();for(var k=0;k<e.length;k++)d(e[k]);var l=i;return j.push([404,1,0,3,2]),g()}({404:function(aa,t,e){"use strict";function ba(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function l(){return l}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function q(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function H(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function X(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function G(a,b){return b&&("object"===g(b)||"function"==typeof b)?b:function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(a)}function K(a){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){return(n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}e.r(t),e.d(t,"ComponentsRegistrator",function(){return o.a}),e.d(t,"globalComponentsRegistrator",function(){return o.b}),e.d(t,"utils",function(){return i}),e.d(t,"guiCustomizer",function(){return B}),e.d(t,"setupVue",function(){return F}),e.d(t,"popUp",function(){return a}),e.d(t,"fields",function(){return ca}),e.d(t,"components",function(){return J}),e.d(t,"models",function(){return N}),e.d(t,"querySet",function(){return V}),e.d(t,"views",function(){return c}),e.d(t,"store",function(){return f}),e.d(t,"router",function(){return p}),e.d(t,"api",function(){return Y}),e.d(t,"users",function(){return z}),e.d(t,"BaseWidget",function(){return W.a}),e.d(t,"CounterWidget",function(){return W.c}),e.d(t,"CardWidget",function(){return W.b}),e.d(t,"LineChartWidget",function(){return W.d}),e.d(t,"App",function(){return U}),e(17),e(37),e(38),e(33),e(39),e(46),e(22),e(67),e(53),e(59),e(68),e(34),e(78),e(20),e(69),e(79),e(60),e(27),e(40),e(28);var Q=e(31),Y=e(48),o=e(4),ca=e(12),a=e(5),i=e(1),r=function(){function b(c,d,e){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),this.api=new Y.ApiConnector(c,d,e),this.error_handler=new a.ErrorHandler,this.languages=null,this.translations=null,this.user=null,this.global_components=o.b}var c,d,e;return c=b,(d=[{key:"afterInitialDataBeforeMount",value:function(){}},{key:"start",value:function(){var a=this,b=i.guiLocalSettings.get("lang")||"en",c=[this.api.getLanguages(),this.api.getTranslations(b),this.api.loadUser()];return Promise.all(c).then(function(c){var d,e,f;a.languages=c[0],a.translations=(d={},e=b,f=c[1],e in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f,d),a.user=c[2],a.global_components.registerAll(),ca.fieldsRegistrator.registerAllFieldsComponents(),a.afterInitialDataBeforeMount(),a.mountApplication()}).catch(function(a){throw new Error(a)})}},{key:"mountApplication",value:function(){}}])&&ba(c.prototype,d),e&&ba(c,e),b}(),c=e(55),f=e(131),p=e(95);e(109),e(124),e(161),e(23),l.slotArray=[],l.debug=!1,l.sigId=1e6,l.connect=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;return void 0===c&&(c=b,b=a,a="sig"+l.sigId++),l.on({signal:b,slot:a,function:c,priority:d})},l.on=function(a){return a.slot||(a.slot="sig"+l.sigId++),void 0===a.priority&&(a.priority=l.sigId),void 0===l.slotArray[a.signal]&&(l.slotArray[a.signal]=[]),l.slotArray[a.signal].push({function:a.function,slot:a.slot,priority:a.priority,once:a.once}),l.slotArray[a.signal].length&&l.slotArray[a.signal].sort(function(a,b){var c=a.priority-b.priority;return isNaN(c)?0:c}),a.slot},l.once=function(a,b){return l.on({signal:a,slot:"sig"+l.sigId++,function:b,priority:l.sigId++,once:!0})},l.disconnect=function(a,b){if(void 0!==l.slotArray[b])for(var c in l.slotArray[b])if(l.slotArray[b][c].slot==a)return l.slotArray[b].splice(c,1),!0;return!1},l.emit=function(b,c){var d=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(void 0===l.slotArray[b])l.debug&&console.log("\u041D\u0430 \u0441\u0438\u0433\u043D\u0430\u043B "+b+" \u043D\u0435\u0442 \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u043E\u0432");else{l.debug&&console.log("\u0421\u0438\u0433\u043D\u0430\u043B "+b+" \u043F\u043E\u0434\u043F\u0438\u0441\u0430\u043D\u044B \u0441\u043B\u043E\u0442\u044B");var f=l.slotArray[b].slice(),g=[];for(var h in f)if(f.hasOwnProperty(h)&&void 0!==f[h])if(f[h].once&&g.push(h),window.isDebug||!e)f[h].function(c,b,!0===d,f[h].slot);else try{f[h].function(c,b,!0===d,f[h].slot)}catch(a){console.warn("Error in emit signal "+b,a)}for(var a in g)l.slotArray[b].splice(g[a],1)}},l.emitAll=function(a,b){l.emit(a,b);try{if(void 0!==window.localStorage){var c=Math.random()+"_"+Math.random()+"_"+Math.random()+"_"+Math.random()+"_"+Math.random();window.localStorage.tabSignal_storage_emit=JSON.stringify({name:a,custom_id:c,param:b})}return!0}catch(a){return!1}},l.init||(l.init=!0,window.addEventListener?window.addEventListener("storage",function(a){if(a.key&&"tabSignal_storage_emit"==a.key)try{var b=JSON.parse(a.newValue);void 0!==b&&void 0!==b.name&&(1<l.debug&&console.log(b),l.emit(b.name,b.param,!0))}catch(a){}},!1):document.attachEvent("onstorage",function(a){if(a.key&&"tabSignal_storage_emit"==a.key)try{var b=JSON.parse(a.newValue);void 0!==b&&void 0!==b.name&&(1<l.debug&&console.log(b),l.emit(b.name,b.param,!0))}catch(a){}})),window.tabSignal=l;var d=e(132),s=(e(327),e(328),e(330),e(225)),h=e.n(s),u=(e(332),e(224),e(42)),v=e.n(u),b=(e(334),e(137)),m=e.n(b),w=e(136),y=e.n(w),j=e(16),O=e.n(j),P=e(113),k=e.n(P),M=(e(337),e(166)),A=e.n(M),C=e(226),x=e.n(C),E=e(227),S=e.n(E),I=e(135),T=e.n(I),L=e(138),R=e.n(L),D=e(231),B=(e(162),e(163),e(164),e(165),e(133)),F=e(219),J=e(221),N=e(222),V=e(96),z=e(134);e(220),e(331),d.a.fn.iziModal=h.a,window.moment=v.a,window.md5=m.a,window.Visibility=y.a,window.IMask=O.a,window.iziToast=k.a,window.XRegExp=A.a,window.FastClick=x.a,window.autoComplete=S.a,window.axios=T.a,window.Chart=R.a,window.createPopper=D.a;var W=e(223),U=function(b){function d(a,b,c){var e;return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),(e=G(this,K(d).call(this,a,b,c))).models=null,e.views=null,e.application=null,e}var e,g,h;return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&n(a,b)}(d,b),e=d,(g=[{key:"afterInitialDataBeforeMount",value:function(){this.initModels(),this.initViews()}},{key:"initModels",value:function(){this.models=this.generateModels()}},{key:"generateModels",value:function(){return new ModelConstructor(Y.openapi_dictionary,guiModels).generateModels(this.api.openapi)}},{key:"initViews",value:function(){this.views=this.generateViews(),this.prepareViewsModelsFields()}},{key:"generateViews",value:function(){return new ViewConstructor(Y.openapi_dictionary,this.models).generateViews(c.View,this.api.openapi)}},{key:"prepareViewsModelsFields",value:function(){for(var a in this.views)if(this.views.hasOwnProperty(a)){var b=this.views[a];for(var c in b.objects.model.fields)if(b.objects.model.fields.hasOwnProperty(c)){var d=b.objects.model.fields[c];if(d.constructor.prepareField){var e=d.constructor.prepareField(d,a);b.objects.model.fields[c]=e}}}}},{key:"setLanguage",value:function(a){var b=this;return this._prefetchTranslation(a).then(function(a){return b.application.$i18n.locale=a,i.guiLocalSettings.set("lang",a),tabSignal.emit("app.language.changed",{lang:a}),a})}},{key:"_prefetchTranslation",value:function(a){var b=this;return Object.values(this.languages).map(function(a){return a.code}).includes(a)?this.translations[a]?Promise.resolve(a):this.api.getTranslations(a).then(function(c){return b.translations=function(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?q(Object(b),!0).forEach(function(c){H(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):q(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}({},b.translations,H({},a,c)),b.application.$i18n.setLocaleMessage(a,c),a}).catch(function(a){throw a}):Promise.reject(!1)}},{key:"mountApplication",value:function(){tabSignal.emit("app.beforeInit",{app:this});var a=new f.StoreConstructor(this.views),b=new p.RouterConstructor(this.views,p.mixins.routesComponentsTemplates,p.mixins.customRoutesComponentsTemplates),c=new VueI18n({locale:i.guiLocalSettings.get("lang")||"en",messages:this.translations});this.application=new Q.a({data:{info:this.api.openapi.info,x_menu:this.api.openapi.info["x-menu"],x_docs:this.api.openapi.info["x-docs"],a_links:!1},computed:{realBodyClasses:function(){var a="";return["is_superuser","is_staff"].forEach(function(b){a+=window[b]?b+" ":""}),a}},router:b.getRouter(),store:a.getStore(),i18n:c}).$mount("#RealBody"),tabSignal.emit("app.afterInit",{app:this})}}])&&X(e.prototype,g),h&&X(e,h),d}(r);window.App=U}});