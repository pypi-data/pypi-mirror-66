(this.webpackJsonpasrfe=this.webpackJsonpasrfe||[]).push([[0],{286:function(e,t,a){e.exports=a(488)},295:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},488:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a(21),c=a(112),i={project_id:null};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return"SET_PROJECT"===t.type&&(e.project_id=t.payload),e},u=Object(c.b)(s),d=a(9),m=a(243),p=a(580),h=a(579),E=(a(295),a(151)),g=a.n(E),f=a(52),b=a(53),v=a(529),x=a(545),w=a(546),j=a(492),y=a(36),S=a(592),O=a(533),C=a(534),k=a(491),_=a(535),N=a(537),R=a(540),D=a(541),A=a(536),T=a(538),B=a(539),W=a(542),F=a(543),P=a(544),I=Object(v.a)({list:{width:250}}),H=function(e){var t=I();return r.a.createElement(S.a,{anchor:"left",open:e.state.left,onClose:e.toggleDrawer("left",!1),variant:"temporary"},r.a.createElement("div",{className:t.list,role:"presentation"},r.a.createElement(O.a,null,r.a.createElement(C.a,{component:"div",id:"list-subheader-projects"},"Projects"),r.a.createElement(k.a,{button:!0,key:"menu-button-new-projects",onClick:function(){e.setMenuDrawerState({left:!1}),e.handleAppState("review-init")}},r.a.createElement(_.a,null,r.a.createElement(A.a,null)),r.a.createElement(N.a,{primary:"New"})),r.a.createElement(k.a,{button:!0,key:"menu-button-projects",onClick:function(){e.setMenuDrawerState({left:!1}),e.handleAppState("projects")}},r.a.createElement(_.a,null,r.a.createElement(T.a,null)),r.a.createElement(N.a,{primary:"Projects"})),r.a.createElement(k.a,{button:!0,key:"menu-button-export",disabled:"review"!==e.appState,onClick:function(){e.toggleExportResult(),e.setMenuDrawerState({left:!1})}},r.a.createElement(_.a,null,r.a.createElement(B.a,null)),r.a.createElement(N.a,{primary:"Export"})),r.a.createElement(R.a,null),r.a.createElement(C.a,{component:"div",id:"list-subheader-help"},"Help & Quit"),r.a.createElement(k.a,{button:!0,key:"menu-button-help",component:D.a,color:"inherit",href:"https://asreview.readthedocs.io/",target:"_blank"},r.a.createElement(_.a,null,r.a.createElement(W.a,null)),r.a.createElement(N.a,{primary:"Help"})),r.a.createElement(k.a,{button:!0,key:"menu-button-feedback",component:D.a,color:"inherit",href:"https://github.com/asreview/asreview/blob/master/CONTRIBUTING.md",target:"_blank"},r.a.createElement(_.a,null,r.a.createElement(F.a,null)),r.a.createElement(N.a,{primary:"Feedback"})),r.a.createElement(k.a,{button:!0,key:"menu-button-exit",onClick:function(){e.toggleExit(),e.setMenuDrawerState({left:!1})}},r.a.createElement(_.a,null,r.a.createElement(P.a,null)),r.a.createElement(N.a,{primary:"Quit"})))))},z="localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||"3000"!==window.location.port?"/api/":"http://localhost:5000/api/",M=a(547),L=a(548),U=a(225),V=a.n(U),q=a(226),Z=a.n(q),Q=a(84);var Y=function(e){return r.a.createElement(Q.a,Object.assign({},e,{viewBox:"0 0 24 24"}),r.a.createElement("path",{d:"M17.3,3.9a4.4,4.4,0,0,0,2.4-1A1.2,1.2,0,0,0,19.6,1,3.9,3.9,0,0,0,17.1.3a6.4,6.4,0,0,0-2.7.7,5.7,5.7,0,0,0-2.7,3.4c-3.6.1-6.8,3.5-7.1,7.9A8.6,8.6,0,0,0,8,20c-1.2.3-2,1-2,1.8s1.3,1.8,2.9,1.8a3,3,0,0,0,2.7-1.2,3.4,3.4,0,0,0,2.8,1.2c1.6,0,2.9-.8,2.9-1.8s-.9-1.6-2.2-1.8a8.8,8.8,0,0,0,3.6-6.7c.3-4.2-2.1-7.9-5.5-8.7a2.9,2.9,0,0,1,1.3-.5A24.6,24.6,0,0,1,17.3,3.9ZM14.8,8.7a1.7,1.7,0,0,1,1.6,1.7v1.3a1.6,1.6,0,0,1-1.6,1.6H8.5a1.6,1.6,0,0,1-1.6-1.6V10.4A1.7,1.7,0,0,1,8.5,8.7Z"}),r.a.createElement("path",{d:"M7.9,11.7a.5.5,0,0,0,.5.4.4.4,0,0,0,.4-.4.9.9,0,0,1,.8-.8.9.9,0,0,1,.8.8.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4A1.8,1.8,0,0,0,9.6,10,1.8,1.8,0,0,0,7.9,11.7Z"}),r.a.createElement("path",{d:"M12.5,12.1a.4.4,0,0,0,.4-.4.8.8,0,1,1,1.6,0,.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4,1.7,1.7,0,0,0-3.4,0A.5.5,0,0,0,12.5,12.1Z"}))},G=Object(v.a)({menuButton:{marginRight:10},appBar:{flexGrow:1},barFullWidth:{paddingRight:0},barWithReviewDrawer:{paddingRight:240},appTitle:{flexGrow:1},barChart:{},menuTitle:{marginLeft:15,marginTop:15}}),J=function(e){var t=G(),a=r.a.useState({left:!1}),n=Object(d.a)(a,2),l=n[0],o=n[1],c=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&o(Object(b.a)({},l,Object(f.a)({},e,t)))}};return r.a.createElement("div",{className:t.appBar},r.a.createElement(x.a,{position:"fixed",className:e.reviewDrawerState?t.barWithReviewDrawer:t.barFullWidth},r.a.createElement(w.a,null,r.a.createElement(j.a,{className:t.menuButton,edge:"start",color:"inherit",onClick:c("left",!0)},r.a.createElement(M.a,null)),r.a.createElement(Y,null),r.a.createElement(y.a,{variant:"h5",color:"inherit",className:t.appTitle},"ASReview"),"review"===e.appState?r.a.createElement(j.a,{"aria-label":"History",onClick:e.handleHistoryOpen,color:"inherit"},r.a.createElement(V.a,null)):"",r.a.createElement(j.a,{"aria-label":"Settings",onClick:e.handleClickOpen,color:"inherit"},r.a.createElement(Z.a,null)),"review"!==e.appState||e.reviewDrawerState?"":r.a.createElement(j.a,{color:"inherit",className:t.barChart,onClick:function(t){return e.handleReviewDrawer(!0)}},r.a.createElement(L.a,null)))),r.a.createElement(w.a,null),r.a.createElement(H,{state:l,setMenuDrawerState:o,appState:e.appState,handleAppState:e.handleAppState,toggleDrawer:c,toggleExit:e.toggleExit,toggleExportResult:e.toggleExportResult}))},K=a(581),X=a(549),$=Object(v.a)((function(e){return{item:{margin:"10px 0px 10px 0px"}}})),ee=function(e){var t=$();return r.a.createElement("div",null,r.a.createElement(C.a,{component:"div",id:"list-subheader-progress"},"Progress"),r.a.createElement(ne,{n_included:e.n_included,n_excluded:e.n_excluded}),r.a.createElement(k.a,{className:t.item,key:"list-progress-total_labeled"},"Total reviewed: ",e.n_included+e.n_excluded," (",Math.round((e.n_included+e.n_excluded)/e.n_papers*1e4)/100,"%)"))},te=function(e){return r.a.createElement("div",null,r.a.createElement(C.a,{component:"div",id:"list-subheader-project"},"Project"),r.a.createElement(k.a,{key:"project-name"},"Name: ",e.name),r.a.createElement(k.a,{key:"project-authors"},"Authors: ",e.authors),r.a.createElement(k.a,{key:"project-n-papers"},"Number of publications: ",e.n_papers))},ae=a(88),ne=function(e){return r.a.createElement(ae.c,{width:250,height:85},r.a.createElement(ae.b,{isAnimationActive:!1,dataKey:"value",startAngle:180,endAngle:0,data:[{name:"Relevant",value:e.n_included},{name:"Irrelevant",value:e.n_excluded}],cx:125,cy:85,innerRadius:0,outerRadius:65,fill:"#8884d8",label:!0},r.a.createElement(ae.a,{fill:"#00C49F"}),r.a.createElement(ae.a,{fill:"#FF8042"})),r.a.createElement(ae.d,null))},re=Object(v.a)((function(e){return{drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerHeader:Object(b.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),drawerTitle:{width:"100%"}}})),le=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=re();return r.a.createElement(S.a,{className:t.drawer,anchor:"right",open:e.state,variant:"persistent",classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(j.a,{onClick:function(t){return e.handle(!1)}},r.a.createElement(X.a,null)),r.a.createElement("div",{className:t.drawerTitle},r.a.createElement(y.a,{variant:"subtitle1"},"Statistics"))),r.a.createElement(R.a,null),r.a.createElement(te,{name:e.statistics.name,authors:e.statistics.authors,description:e.statistics.description,n_papers:e.statistics.n_papers}),r.a.createElement(R.a,null),r.a.createElement(ee,{n_included:e.statistics.n_included,n_excluded:e.statistics.n_excluded,n_papers:e.statistics.n_papers}),r.a.createElement(R.a,null))})),oe=a(550),ce=Object(v.a)({boxFullWidth:{paddingTop:40,paddingBottom:30,overflowY:"auto"},boxWithDrawer:{paddingTop:40,paddingBottom:30,overflowY:"auto",paddingRight:280},title:{lineHeight:1.2},abstract:{},authors:{fontWeight:"bolder"},stickToBottom:{width:"100%",position:"fixed",bottom:0}}),ie=function(e){var t=ce();return r.a.createElement(oe.a,{maxWidth:"md",className:e.reviewDrawerState?t.boxWithDrawer:t.boxFullWidth},r.a.createElement(y.a,{className:t.title,variant:"h5",color:1===e.record._debug_label?"error":"textSecondary",component:"div",paragraph:!0},(""===e.record.title||null===e.record.title)&&r.a.createElement(K.a,{className:"textSize"+e.textSize,fontStyle:"italic"},"This article doens't have a title."),!(""===e.record.title||null===e.record.title)&&r.a.createElement(K.a,{className:"textSize"+e.textSize},e.record.title)),null!==e.record.publish_time&&r.a.createElement(y.a,{className:t.publish_time+" textSize"+e.textSize,color:1===e.record._debug_label?"error":"textSecondary",component:"p",fontStyle:"italic",paragraph:!0},e.record.publish_time),r.a.createElement(y.a,{className:t.abstract+" textSize"+e.textSize,variant:"body2",color:1===e.record._debug_label?"error":"textSecondary",component:"div",paragraph:!0},(""===e.record.abstract||null===e.record.abstract)&&r.a.createElement(K.a,{fontStyle:"italic"},"This article doens't have an abstract."),!(""===e.record.abstract||null===e.record.abstract)&&r.a.createElement(K.a,null,e.record.abstract)))},se=a(551),ue=a(552),de=a(79),me=a.n(de),pe=a(65),he=a.n(pe),Ee=Object(v.a)({barFullWidth:{width:"100%",position:"fixed",bottom:0,boxShadow:"0 -1px 1px 0 rgba(0,0,0,.1)",paddingRight:0},barWithDrawer:{width:"100%",position:"fixed",bottom:0,boxShadow:"0 -1px 1px 0 rgba(0,0,0,.1)",paddingRight:250}}),ge=function(e){var t=Ee();return r.a.createElement(se.a,{onChange:function(t,a){0===a?e.classify(0):1===a&&e.classify(1)},showLabels:!0,className:e.reviewDrawerState?t.barWithDrawer:t.barFullWidth},r.a.createElement(ue.a,{label:"Irrelevant",icon:r.a.createElement(he.a,null),disabled:e.block}),r.a.createElement(ue.a,{label:"Relevant",icon:r.a.createElement(me.a,null),disabled:e.block}))},fe=a(17),be=a.n(fe),ve=Object(v.a)({box:{paddingTop:40,paddingBottom:30,overflowY:"auto"},title:{lineHeight:1.2},abstract:{},authors:{},stickToBottom:{width:"100%",position:"fixed",bottom:0}}),xe=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=ve(),a=Object(n.useState)({isloaded:!1,record:null}),l=Object(d.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)({name:null,authors:null,decsription:null,n_included:null,n_excluded:null,n_since_last_inclusion:null,n_papers:null,n_pool:null}),s=Object(d.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){o.isloaded||(function(){var t=z+"project/".concat(e.project_id,"/progress");be.a.get(t).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}(),function(){var t=z+"project/".concat(e.project_id,"/get_document");be.a.get(t).then((function(e){c({record:e.data,isloaded:!0})})).catch((function(e){console.log(e)}))}())}),[e.project_id,o]),r.a.createElement(K.a,{className:t.box,height:"100vh"},o.isloaded&&r.a.createElement(ie,{record:o.record,reviewDrawerState:e.reviewDrawerState,showAuthors:e.showAuthors,textSize:e.textSize}),r.a.createElement(ge,{reviewDrawerState:e.reviewDrawerState,classify:function(t){var a=z+"project/".concat(e.project_id,"/record/").concat(o.record.doc_id),n=new FormData;return n.set("doc_id",o.record.doc_id),n.set("label",t),be()({method:"post",url:a,data:n,headers:{"Content-Type":"application/json"}}).then((function(a){console.log("".concat(e.project_id," - add item ").concat(o.record.doc_id," to ").concat(t?"inclusions":"exclusions")),c({isloaded:!1,record:null})})).catch((function(e){console.log(e)}))},block:!o.isloaded}),r.a.createElement(le,{state:e.reviewDrawerState,handle:e.handleReviewDrawer,statistics:u}))})),we=a(553),je=a(554),ye=a(555),Se=a(556),Oe=a(557);function Ce(e){var t=r.a.useRef(null);return r.a.useEffect((function(){if(e.openHistory){var a=t.current;null!==a&&a.focus()}}),[e.openHistory]),r.a.createElement(we.a,{open:e.openHistory,onClose:e.handleHistoryClose,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(je.a,{id:"scroll-dialog-title"},"Decision History"),r.a.createElement(ye.a,{dividers:!0},"We are working on this."),r.a.createElement(Se.a,null,r.a.createElement(Oe.a,{onClick:e.handleHistoryClose},"Close")))}var ke=a(558),_e=a(589),Ne=a(582),Re=a(562),De=Object(v.a)((function(e){return{formControl:{margin:e.spacing(1),width:"100%"},button:{marginTop:"16px"}}})),Ae=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=De(),a=r.a.useState("excel"),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useRef(null);r.a.useEffect((function(){if(e.exportResult){var t=c.current;null!==t&&t.focus()}}),[e.exportResult]);return r.a.createElement(we.a,{open:e.exportResult,onClose:e.toggleExportResult,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(je.a,{id:"scroll-dialog-title"},"Export results ",e.project_id),r.a.createElement(ye.a,{dividers:!0},r.a.createElement(y.a,null,"Download the result of your review (Excel or CSV file)."),r.a.createElement(ke.a,{className:t.formControl},r.a.createElement(_e.a,{id:"select-export-file-type-label"},"File type"),r.a.createElement(Ne.a,{labelId:"select-export-file-type-label",id:"select-export-file-type",value:l,onChange:function(e){o(e.target.value)}},r.a.createElement(Re.a,{value:"excel"},"Excel"),r.a.createElement(Re.a,{value:"csv"},"CSV (UTF-8)"))),r.a.createElement(Oe.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){var e=u.getState().project_id;if(null!==e){var t=z+"project/".concat(e,"/export?file_type=").concat(l);setTimeout((function(){var e={file:t};window.location.href=e.file}),100)}}},"Export")),r.a.createElement(Se.a,null,r.a.createElement(Oe.a,{onClick:e.toggleExportResult},"Close")))})),Te=a(588),Be=a(576),We=a(586),Fe=a(590),Pe=a(563),Ie=a(238),He=a.n(Ie),ze=a(121),Me=a.n(ze),Le=Object(v.a)((function(e){return{button:{margin:"36px 0px 24px 12px",float:"right"},margin:{marginTop:20},helpertext:{color:"#FF0000"},root:{padding:"2px 4px",marginBottom:"14px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},help:{textAlign:"right"},helptext:{padding:"12px 0px"}}})),Ue=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=Le(),a=r.a.useState([]),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState({open:!1,query:""}),i=Object(d.a)(c,2),s=i[0],u=i[1],m=r.a.useState(!1),p=Object(d.a)(m,2),h=p[0],E=p[1],g=function(){var t=z+"project/".concat(e.project_id,"/prior");be.a.get(t).then((function(e){o(e.data.result)})).catch((function(e){console.log(e)}))};return r.a.createElement(K.a,{style:{clear:"both"}},r.a.createElement(y.a,{style:{display:"inline"},variant:"h5",align:"left"},"Do you have publications to include?"),r.a.createElement(y.a,{style:{width:"25px",margin:"3px",float:"right",opacity:.5},align:"right"},r.a.createElement(Me.a,{onClick:function(){E((function(e){return!e}))}})),h&&r.a.createElement(y.a,{className:t.helptext},r.a.createElement(K.a,{fontStyle:"italic"},"Provide about 1 to 5 relevant publications based on prior knowledge.")),r.a.createElement(K.a,null,r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u({open:!0,query:s.query})}},r.a.createElement(ke.a,{fullWidth:!0,className:t.margin,variant:"outlined"},r.a.createElement(Fe.a,{id:"prior-search-input-included",placeholder:"Search on keyword, author or title",value:s.query,onChange:function(e){u({open:!1,query:e.target.value})},endAdornment:r.a.createElement(Pe.a,{position:"end"},r.a.createElement(j.a,{"aria-label":"search for papers",type:"submit"},r.a.createElement(He.a,null)))}))),l.length>0&&r.a.createElement(K.a,null,r.a.createElement(y.a,null,"The following publications have been included:"),l.map((function(e,t){return r.a.createElement(ct,{id:e.id,title:e.title,abstract:e.abstract,included:e.included,removeButton:!0,getPriorIncluded:g,collapseAbstract:!0,key:"container-result-item-".concat(e.id)})}))),s.open&&""!==s.query&&r.a.createElement(Xe,{searchQuery:s.query,closeSearchDialog:function(){u({open:!1,query:""}),g()},onRevertInclude:function(e){console.log("Remove item to included: "+e.id)}})),r.a.createElement(w.a,{className:t.clear}),r.a.createElement(Oe.a,{variant:"contained",color:"primary",disabled:!(l.length>0),onClick:e.handleNext,className:t.button},"Next"))})),Ve=a(564),qe=Object(v.a)((function(e){return{button:{margin:"36px 0px 24px 12px",float:"right"},margin:{marginTop:20},helpertext:{color:"#FF0000"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},loader:{width:"100%"},helptext:{padding:"12px 0px"},clear:{clear:"both"}}})),Ze=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=qe(),a=Object(n.useState)({records:[],loaded:!1}),l=Object(d.a)(a,2),o=l[0],c=l[1],i=r.a.useState(!1),s=Object(d.a)(i,2),u=s[0],m=s[1],p=function(e){var t=o.records.filter((function(t,a,n){return t.id!==e}));console.log("Items to classify in step 4: "+o.records.length),c({records:t,loaded:!0})};Object(n.useEffect)((function(){!function(){var t=z+"project/".concat(e.project_id,"/prior_random");be.a.get(t).then((function(e){console.log(e.data.result.length+" random items served for review"),c({records:e.data.result,loaded:!0})})).catch((function(e){console.log(e)}))}()}),[e.project_id]);return r.a.createElement(K.a,null,r.a.createElement(K.a,{style:{clear:"both"}},r.a.createElement(y.a,{style:{display:"inline"},variant:"h5",align:"left"},"Are these 5 randomly selected publications relevant?"),r.a.createElement(y.a,{style:{width:"25px",margin:"3px",float:"right",opacity:.5},align:"right"},r.a.createElement(Me.a,{onClick:function(){m((function(e){return!e}))}})),u&&r.a.createElement(y.a,{className:t.helptext},r.a.createElement(K.a,{fontStyle:"italic"},"The software requires 1-5 irrelevant papers."))),r.a.createElement(K.a,{className:t.clear},o.loaded?o.records.map((function(e,t){return r.a.createElement(ct,{id:e.id,title:e.title,abstract:e.abstract,included:null,onRevertInclude:function(){},removeButton:!1,classify:!0,onRemove:p,key:e.id})})):r.a.createElement(K.a,{className:t.loader},r.a.createElement(Ve.a,{style:{margin:"0 auto"}}))),r.a.createElement(Oe.a,{variant:"contained",color:"primary",disabled:0!==o.records.length,onClick:e.handleNext,className:t.button},"Next"))})),Qe=a(565),Ye=a(566),Ge=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=r.a.useState(1===e.included),a=Object(d.a)(t,2),n=a[0],l=a[1],o=r.a.createElement(k.a,{key:"result-item-".concat(e.id)},r.a.createElement(N.a,{primary:e.title,secondary:e.authors}),r.a.createElement(Qe.a,null,r.a.createElement(j.a,{edge:"end","aria-label":"Include",color:n?"secondary":"default",selected:n,onClick:function(){var t=z+"project/".concat(e.project_id,"/labelitem"),a=new FormData;a.set("doc_id",e.id),n?(a.set("label",-1),console.log("".concat(e.project_id," - remove item ").concat(e.id," from prior knowledge"))):(a.set("label",1),console.log("".concat(e.project_id," - add item ").concat(e.id," to prior inclusions"))),a.set("is_prior",1),be.a.post(t,a,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){l(!n)})).catch((function(e){console.log(e)}))}},r.a.createElement(me.a,null))));return e.removeResultOnRevert?r.a.createElement(Ye.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,appear:!0,onExited:function(){console.log("item removed from DOM")}},o):r.a.createElement(K.a,null,o)})),Je=function(e){return r.a.createElement(O.a,{dense:!0},e.searchResult.map((function(t,a){return r.a.createElement(Ge,{id:t.id,title:t.title,authors:t.authors,included:t.included,onRevertInclude:e.onRevertInclude,removeResultOnRevert:e.removeResultOnRevert,key:"container-result-item-".concat(t.id)})})))},Ke=Object(v.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"center",margin:"auto","& > * + *":{marginLeft:e.spacing(2)}}}})),Xe=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=Ke(),a=r.a.useState(null),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useRef(null);return r.a.useEffect((function(){var t=c.current;null!==t&&t.focus();!function(t){var a=z+"project/".concat(e.project_id,"/search");be.a.get(a,{params:{q:t,n_max:10}}).then((function(e){o(e.data.result)})).catch((function(e){console.log(e)}))}(e.searchQuery)}),[e.searchQuery,e.project_id]),r.a.createElement("div",null,r.a.createElement(we.a,{open:!0,onClose:e.closeSearchDialog,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(je.a,{id:"scroll-dialog-title"},"Search result: ",e.searchQuery),r.a.createElement(ye.a,{dividers:!0},null===l&&r.a.createElement("div",{className:t.root},r.a.createElement(Ve.a,null)),null!==l&&r.a.createElement(Je,{searchResult:l,onRevertInclude:e.onRevertInclude,removeResultOnRevert:!1})),r.a.createElement(Se.a,null,r.a.createElement(Oe.a,{onClick:e.closeSearchDialog},"Return"))))})),$e=a(4),et=a(567),tt=a(568),at=a(569),nt=a(570),rt=a(239),lt=a.n(rt),ot=Object(v.a)((function(e){return{root:{marginTop:16},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},close:{margin:"8px",float:"right"},button:{margin:"8px"}}})),ct=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=ot(),a=r.a.useState(!0),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState(!1),i=Object(d.a)(c,2),s=i[0],u=i[1],m=function(){u(!s)},p=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=z+"project/".concat(e.project_id,"/labelitem"),r=new FormData;r.set("doc_id",e.id),r.set("label",t),r.set("is_prior",1),be.a.post(n,r,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){o(!1),null!==a&&a()})).catch((function(e){console.log(e)}))},h=function(){console.log("".concat(e.project_id," - add item ").concat(e.id," to prior inclusions")),p(1,(function(){return e.onRemove(e.id)}))},E=function(){console.log("".concat(e.project_id," - add item ").concat(e.id," to prior exclusions")),p(0,(function(){return e.onRemove(e.id)}))},g=function(){console.log("".concat(e.project_id," - remove item ").concat(e.id," from prior knowledge")),p(-1),e.getPriorIncluded()};return r.a.createElement(Ye.a,{in:l,appear:!0,unmountOnExit:!0},r.a.createElement(et.a,{className:t.root,key:e.id},e.removeButton&&r.a.createElement(j.a,{edge:"end","aria-label":"Include",onClick:g,className:t.close},r.a.createElement(he.a,null)),r.a.createElement(tt.a,{title:e.title}),e.collapseAbstract?r.a.createElement(Ye.a,{in:s,timeout:"auto"},r.a.createElement(at.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.abstract))):r.a.createElement(at.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.abstract)),r.a.createElement(nt.a,{disableSpacing:!0},e.classify&&r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement(Oe.a,{variant:"contained",color:"default",className:t.button,startIcon:r.a.createElement(me.a,null),onClick:h},"Relevant"),r.a.createElement(Oe.a,{variant:"contained",color:"default",className:t.button,startIcon:r.a.createElement(he.a,null),onClick:E},"Irrelevant")),e.collapseAbstract&&""!==e.abstract&&r.a.createElement(j.a,{className:Object($e.a)(t.expand,Object(f.a)({},t.expandOpen,s)),onClick:m,"aria-expanded":s,"aria-label":"show more"},r.a.createElement(lt.a,null)))))})),it=a(591),st=a(587);function ut(e){return{type:"SET_PROJECT",payload:e}}var dt=Object(v.a)((function(e){return{title:{marginBottom:"20px"},button:{margin:"36px 0px 0px 12px",float:"right"},input:{display:"none"},textfieldItem:{marginTop:0,marginBottom:40},clear:{clear:"right"}}})),mt=function(e){var t=dt(),a=r.a.useState({authors:"",name:"",description:""}),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState(!1),i=Object(d.a)(c,2),s=i[0],m=i[1],p=function(e){o(Object(b.a)({},l,Object(f.a)({},e.target.name,e.target.value)))},h=function(e,t){"clickaway"!==t&&m(!1)};return r.a.createElement(K.a,null,r.a.createElement(y.a,{variant:"h5",className:t.title},"Create a project"),r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=z+"project/new",n=new FormData;n.set("project_name",l.name),n.set("project_authors",l.authors),n.set("project_description",l.description),be()({method:"post",url:a,data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){u.dispatch(ut(t.data.project_id)),e.handleNext()})).catch((function(e){m(!0)}))}},r.a.createElement("div",{className:t.textfieldItem},r.a.createElement(it.a,{fullWidth:!0,name:"authors",id:"project-author",label:"Author(s)",onChange:p})),r.a.createElement("div",{className:t.textfieldItem},r.a.createElement(it.a,{fullWidth:!0,name:"name",id:"project-name",label:"Project name",onChange:p})),r.a.createElement("div",{className:t.textfieldItem},r.a.createElement(it.a,{fullWidth:!0,name:"description",id:"project-description",label:"Short description",onChange:p})),r.a.createElement("div",{className:t.nextButton},r.a.createElement(Oe.a,{variant:"contained",color:"primary",disabled:l.name.length<3||""===l.authors||""===l.description,type:"submit",className:t.button},"Next"))),r.a.createElement(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:6e3,onClose:h,message:"Error: Project name incorrect",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{size:"small","aria-label":"close",color:"inherit",onClick:h},r.a.createElement(he.a,{fontSize:"small"})))}),r.a.createElement(w.a,{className:t.clear}))},pt=a(244),ht=a(152),Et=a(583),gt=a(571),ft=a(584),bt=a(572),vt={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"60px 20px 60px 20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",outline:"none",transition:"border .24s ease-in-out"},xt={borderColor:"#2196f3"},wt={borderColor:"#00e676"},jt={borderColor:"#ff1744"},yt=Object(v.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginBottom:"32px",minHeight:"200px"},rootPaper:{padding:"20px"},title:{marginBottom:"20px"},upload:{},divider:{textAlign:"center",margin:"20px 0px 20px 0px"},clear:{right:"clear"},nextButton:{margin:"36px 0px 24px 12px",float:"right"},datasets:{maxWidth:4*e.spacing(2)+390},uploadButton:{marginTop:"26px"}}})),St=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=yt(),a=Object(n.useRef)(null),l=r.a.useState(null),o=Object(d.a)(l,2),c=o[0],i=o[1],s=r.a.useState(!1),u=Object(d.a)(s,2),m=u[0],p=u[1],h=r.a.useState(null),E=Object(d.a)(h,2),g=E[0],f=E[1],v=r.a.useState(null),x=Object(d.a)(v,2),w=x[0],j=x[1],S=function(){a.current.scrollIntoView({behavior:"smooth"})},O=Object(n.useCallback)((function(e){1===e.length?i(e[0]):console.log("No valid files provided.")}),[]),C=Object(pt.a)({onDrop:O,multiple:!1,accept:".txt,.csv,.ris,.xlsx"}),k=C.getRootProps,_=C.getInputProps,N=C.isDragActive,R=C.isDragAccept,A=C.isDragReject,T=Object(n.useMemo)((function(){return Object(b.a)({},vt,{},N?xt:{},{},R?wt:{},{},A?jt:{})}),[N,A,R]),B=function(t,a){p(!0),f(null),j(null);var n=z+"project/".concat(e.project_id,"/upload");be()({method:"post",url:n,data:t}).then((function(e){p(!1),i(null),f(e.data),S(),void 0!==a&&a()})).catch((function(e){p(!1),i(null),f(null),j(e.response.data.message),S(),void 0!==a&&a()}))},W=function(e,t){var a=new FormData;return a.append("demo_data",e),B(a,t)},F=r.a.useState(0),P=Object(d.a)(F,2),I=P[0],H=P[1];return r.a.createElement(K.a,null,r.a.createElement(y.a,{variant:"h5",className:t.title},"Select a dataset"),r.a.createElement(ht.a,{className:t.root},r.a.createElement(Et.a,{value:I,onChange:function(e,t){H(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(gt.a,{label:"From file"}),r.a.createElement(gt.a,{label:"From url"}),r.a.createElement(gt.a,{label:"From plugin"}),r.a.createElement(gt.a,{label:"Example datasets"})),r.a.createElement(K.a,{className:t.rootPaper},0===I&&r.a.createElement("div",null,r.a.createElement("div",Object.assign({className:t.upload},k({style:T})),r.a.createElement("input",_()),r.a.createElement(y.a,null,"Drag 'n' drop a file here, or click to a file")),null!==c&&r.a.createElement("div",null,r.a.createElement(y.a,null,"File '",c.path,"' selected."),r.a.createElement(Oe.a,{variant:"contained",color:"primary",disabled:m,onClick:function(){return function(e){var t=new FormData;return t.append("file",c),B(t,e)}()},className:t.uploadButton},m?"Uploading...":"Upload"))),1===I&&r.a.createElement("div",null,r.a.createElement(y.a,null,"Upload a dataset from the internet with a link. For example: ",r.a.createElement(D.a,{target:"_blank",rel:"noreferrer",href:"https://raw.githubusercontent.com/asreview/asreview/master/datasets/ACEInhibitors.csv"},"ACEInhibitors.csv")),r.a.createElement(Bt,{upload:m,onUploadHandler:function(e,t){var a=new FormData;return a.append("url",e),B(a,t)}})),2===I&&r.a.createElement(At,{subset:"plugin",onUploadHandler:W}),3===I&&r.a.createElement("div",null,r.a.createElement(y.a,null,"Example datasets are useful for testing algorithms because they are fully labeled into relevant and irrelevant. Relevant articles will display up in red and irrelevant articles in black."),r.a.createElement(At,{subset:"test",onUploadHandler:W})))),null!==g&&r.a.createElement(ft.a,{severity:"success",action:r.a.createElement(Oe.a,{color:"inherit",size:"small",onClick:function(){f(null)}},"Remove")},r.a.createElement(bt.a,null,"Success"),"Successfully uploaded dataset '",g.filename,"' with ",g.n_rows," publications."),null!==w&&r.a.createElement(ft.a,{severity:"error",onClose:function(){j(null)}},r.a.createElement(bt.a,null,"Error"),w),r.a.createElement(Oe.a,{variant:"contained",color:"primary",disabled:null===g,onClick:function(){e.handleNext()},className:t.nextButton},"Next"),r.a.createElement("div",{ref:a}))})),Ot=a(87),Ct=a.n(Ot),kt=a(122),_t=a(573),Nt=a(574),Rt=Object(v.a)((function(e){return{root:{paddingTop:"24px"},absolute:{position:"absolute",bottom:e.spacing(2),right:e.spacing(3)},cardRoot:{width:400,height:250,display:"inline-block",margin:e.spacing(2)},cards:{marginBottom:"20px",textAlign:"center",margin:0},media:{height:140}}})),Dt=function(e){var t=Rt(),a=Object(n.useState)(!1),l=Object(d.a)(a,2),o=l[0],c=l[1],i=function(){c(!1)};return r.a.createElement(et.a,{className:t.cardRoot,key:e.dataset.dataset_id,onClick:o?void 0:function(){c(!0),e.onUploadHandler(e.dataset.dataset_id,i)}},o?r.a.createElement("div",null,r.a.createElement(Nt.a,{className:t.media,image:e.dataset.img_url,title:e.dataset.title}),r.a.createElement(at.a,null,r.a.createElement(Ve.a,null))):r.a.createElement(_t.a,null,r.a.createElement(Nt.a,{className:t.media,image:e.dataset.img_url,title:e.dataset.title}),r.a.createElement(at.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.dataset.title),r.a.createElement(y.a,{noWrap:!0,variant:"body2",color:"textSecondary",component:"p"},e.dataset.description))))},At=function(e){var t=Rt(),a=Object(n.useState)([]),l=Object(d.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){(function(){var t=Object(kt.a)(Ct.a.mark((function t(){var a,n;return Ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=z+"datasets",n={},"plugin"===e.subset|"test"===e.subset&&(n.subset=e.subset),be.a.get(a,{params:n}).then((function(e){c(e.data.result)})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.subset]),r.a.createElement("div",{className:t.cards},o.map((function(t){return r.a.createElement(Dt,{key:t[t.length-1].dataset_id,dataset:t[t.length-1],onUploadHandler:e.onUploadHandler})})))},Tt=Object(v.a)((function(e){return{root:{paddingTop:"24px"},uploadButton:{marginTop:"26px"}}})),Bt=function(e){var t=Tt(),a=Object(n.useState)(""),l=Object(d.a)(a,2),o=l[0],c=l[1],i=function(t){t.preventDefault(),e.onUploadHandler(o)};return r.a.createElement("div",null,r.a.createElement("div",{className:t.input},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:i},r.a.createElement(it.a,{fullWidth:!0,id:"url-dataset",label:"Dataset URL",value:o,onChange:function(e){"aceinhibitors.csv"===e.target.value.toLowerCase()?c("https://raw.githubusercontent.com/asreview/asreview/master/datasets/ACEInhibitors.csv"):c(e.target.value)}})),""!==o&&r.a.createElement("div",null,r.a.createElement(Oe.a,{type:"submit",variant:"contained",color:"primary",disabled:e.upload,onClick:i,className:t.uploadButton},e.upload?"Uploading...":"Upload"))))},Wt=a(575),Ft=a(585),Pt=Object(v.a)((function(e){return{listTitle:{paddingLeft:"18px"}}})),It=Object(o.b)((function(e){return{project_id:e.project_id}}))((function(e){var t=Pt(),a=r.a.useState({status:null,message:null}),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useState("nb"),i=Object(d.a)(c,2),s=i[0],u=i[1],m=function(e){u(e.target.value)},p=function t(){var a=z+"project/".concat(e.project_id,"/model/init_ready");return be.a.get(a).then((function(a){1===a.data.status?e.handleAppState("review"):setTimeout(t,2e3)})).catch((function(e){var t="Unknown error.";e.response?("message"in e.response.data&&(t=e.response.data.message),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config),console.log(t),o({status:"error",message:t})}))};return r.a.createElement(K.a,null,null===l.status&&r.a.createElement(Wt.a,{container:!0,spacing:3},r.a.createElement(Wt.a,{item:!0,xs:12},r.a.createElement(Wt.a,{container:!0,justify:"space-between"},r.a.createElement(Wt.a,{item:!0},r.a.createElement(y.a,{variant:"h5"},"Start the systematic review")),r.a.createElement(Wt.a,{item:!0},r.a.createElement(Oe.a,{variant:"contained",color:"primary",onClick:function(){o({status:"training",message:null});var t=z+"project/".concat(e.project_id,"/start"),a=new FormData;return a.set("machine_learning_model",s),be()({method:"post",url:t,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){p()})).catch((function(e){console.log(e)}))}},"Start reviewing")))),r.a.createElement(Wt.a,{item:!0,xs:12},r.a.createElement(ht.a,{elevation:0},r.a.createElement(Wt.a,{container:!0,spacing:2},r.a.createElement(Wt.a,{item:!0,xs:12,md:3},r.a.createElement(y.a,{variant:"body2",className:t.listTitle},"Machine learning models"),r.a.createElement(O.a,{dense:!0},r.a.createElement(k.a,null,r.a.createElement(Ft.a,{checked:"nb"===s,value:"nb",color:"default",inputProps:{"aria-label":"Na\xefve Bayes"},onChange:m}),r.a.createElement(N.a,{primary:"Na\xefve Bayes"})),r.a.createElement(k.a,null,r.a.createElement(Ft.a,{checked:"svm"===s,value:"svm",color:"default",inputProps:{"aria-label":"Support Vector Machines"},onChange:m}),r.a.createElement(N.a,{primary:"Support Vector Machines"})),r.a.createElement(k.a,null,r.a.createElement(Ft.a,{checked:"logistic"===s,value:"logistic",color:"default",inputProps:{"aria-label":"Logistic Regression"},onChange:m}),r.a.createElement(N.a,{primary:"Logistic Regression"})),r.a.createElement(k.a,null,r.a.createElement(Ft.a,{checked:"rf"===s,value:"rf",color:"default",inputProps:{"aria-label":"Random Forest"},onChange:m}),r.a.createElement(N.a,{primary:"Random Forest"})))))))),"training"===l.status&&r.a.createElement(y.a,null,"Training model... (this can take some time)"),"error"===l.status&&r.a.createElement(K.a,null,r.a.createElement(y.a,{color:"error"},"An error occured. Please send an email to asreview@uu.nl or file an issue on GitHub."),r.a.createElement(y.a,{variant:"h4",color:"error"},"Error message"),r.a.createElement(y.a,{color:"error"},l.message)))})),Ht=(a(485),Object(v.a)((function(e){return{box:{marginTop:20},grid:{minHeight:"100vh",padding:6},loader:{margin:"0 auto",display:"block",marginTop:12},root:{margin:"24px 0px 24px 0px"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}))),zt=function(e){var t=Ht(),a=r.a.useState(0),n=Object(d.a)(a,2),l=n[0],o=n[1],c=function(){o((function(e){return e+1}))};return r.a.createElement(K.a,{className:t.box},5!==l&&r.a.createElement(oe.a,{maxWidth:"md"},r.a.createElement("div",{className:t.root},r.a.createElement(Te.a,{activeStep:l,alternativeLabel:!0,style:{backgroundColor:"transparent"}},r.a.createElement(Be.a,{key:"create-project"},r.a.createElement(We.a,null,"Project info")),r.a.createElement(Be.a,{key:"select-dataset"},r.a.createElement(We.a,null,"Select dataset")),r.a.createElement(Be.a,{key:"select-inclusions"},r.a.createElement(We.a,null,"Select inclusions")),r.a.createElement(Be.a,{key:"label-random"},r.a.createElement(We.a,null,"Label random")),r.a.createElement(Be.a,{key:"start-review"},r.a.createElement(We.a,null,"Start reviewing")))),0===l&&r.a.createElement(K.a,null,r.a.createElement(mt,{handleNext:c})),1===l&&r.a.createElement(K.a,null,r.a.createElement(St,{handleNext:c})),2===l&&r.a.createElement(K.a,null,r.a.createElement(Ue,{handleNext:c})),3===l&&r.a.createElement(Ze,{handleNext:c}),4===l&&r.a.createElement(It,{handleAppState:e.handleAppState,handleReviewDrawer:e.handleReviewDrawer})))},Mt=a(593),Lt=a(577),Ut=a(242),Vt=a.n(Ut),qt=Object(v.a)({root:{maxWidth:"100%"},deleteButton:{margin:5},header:{marginBottom:10},inputDelete:{marginBottom:10,marginTop:10}});function Zt(e){var t=qt(),a=r.a.useState(""),n=Object(d.a)(a,2),l=n[0],o=n[1],c=r.a.useRef(null);r.a.useEffect((function(){if(e.settings){var t=c.current;null!==t&&t.focus()}}),[e.settings]);return r.a.createElement(we.a,{open:e.settings,onClose:e.toggleProjectSettings,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(je.a,{id:"scroll-dialog-title"},"Project '",e.id,"' settings"),r.a.createElement(ye.a,{dividers:!0},r.a.createElement(y.a,{variant:"h4",className:t.header},"Delete project"),r.a.createElement(y.a,null,"Delete your project by typing the project name '",e.id,"' below."),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=z+"project/".concat(e.id,"/delete");be.a.delete(a).then((function(t){e.refreshProjects(),e.toggleProjectSettings()})).catch((function(t){console.log("Failed to delete project"),e.refreshProjects(),e.toggleProjectSettings()}))}},r.a.createElement(it.a,{className:t.inputDelete,fullWidth:!0,required:!0,name:"project-name",id:"project-name",label:"Project name",onChange:function(e){o(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(Oe.a,{className:t.deleteButton,variant:"contained",color:"primary",disabled:l!==e.id,type:"submit"},"Delete")))),r.a.createElement(Se.a,null,r.a.createElement(Oe.a,{onClick:e.toggleProjectSettings},"Close")))}var Qt=Object(v.a)({root:{maxWidth:"100%"},media:{height:140}}),Yt=function(e){var t=Qt(),a=r.a.useState(!1),n=Object(d.a)(a,2),l=n[0],o=n[1],c=function(){console.log("Open settings project "+e.id),o((function(e){return!e}))};return r.a.createElement(et.a,{className:t.root},r.a.createElement(_t.a,null,r.a.createElement(at.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.description))),r.a.createElement(nt.a,null,r.a.createElement(Oe.a,{size:"small",onClick:function(){console.log("Opening existing project "+e.id),u.dispatch(ut(e.id)),e.handleAppState("review")}},"Open"),r.a.createElement(Oe.a,{size:"small",onClick:c},"Settings")),r.a.createElement(Zt,{id:e.id,settings:l,toggleProjectSettings:c,refreshProjects:e.refreshProjects}))},Gt=Object(v.a)((function(e){return{root:{paddingTop:"24px"},absolute:{position:"absolute",bottom:e.spacing(2),right:e.spacing(3)},noProjects:{opacity:.5}}})),Jt=function(e){var t=Gt(),a=Object(n.useState)({projects:[],loaded:!1}),l=Object(d.a)(a,2),o=l[0],c=l[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=z+"projects";be.a.get(e).then((function(e){c({projects:e.data.result,loaded:!0})})).catch((function(e){console.log(e)}))};return r.a.createElement(oe.a,{maxWidth:"md",className:t.root},o.loaded&&0===o.projects.length&&r.a.createElement(K.a,{className:t.noProjects},r.a.createElement(y.a,{variant:"h5",align:"center"},"You don't have any projects yet."),r.a.createElement(K.a,{fontStyle:"italic"},r.a.createElement(y.a,{align:"center"},"Start a review by clicking on the red button in the bottom left corner."))),o.loaded&&0!==o.projects.length&&r.a.createElement(Wt.a,{container:!0,spacing:3},o.projects.map((function(a){return r.a.createElement(Wt.a,{item:!0,sm:4,key:a.id},r.a.createElement(Yt,{className:t.paper,id:a.id,name:a.name,description:a.description,handleAppState:e.handleAppState,refreshProjects:i}))}))),r.a.createElement(Mt.a,{title:"Start new project","aria-label":"add"},r.a.createElement(Lt.a,{color:"secondary",className:t.absolute,onClick:function(){e.handleAppState("review-init")}},r.a.createElement(Vt.a,null))))},Kt=a(578);function Xt(e){var t=r.a.useRef(null);return r.a.useEffect((function(){if(e.openSettings){var a=t.current;null!==a&&a.focus()}}),[e.openSettings]),r.a.createElement("div",null,r.a.createElement(we.a,{open:e.openSettings,onClose:e.handleClose,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(je.a,{id:"scroll-dialog-title"},"Settings"),r.a.createElement(ye.a,{dividers:!0},r.a.createElement(O.a,null,r.a.createElement(k.a,null,r.a.createElement(N.a,{id:"switch-list-label-dark",primary:"Dark Mode"}),r.a.createElement(Qe.a,null,r.a.createElement(Kt.a,{edge:"end",onChange:e.toggleDarkTheme,checked:"dark"===e.onDark.palette.type,inputProps:{"aria-labelledby":"switch-list-label-dark"}}))),r.a.createElement(k.a,null,r.a.createElement(N.a,{id:"change-text-size",primary:"Text size"}),r.a.createElement(Qe.a,null,r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{id:"change-text-size-select",value:e.textSize,onChange:e.handleTextSizeChange},r.a.createElement(Re.a,{value:"Smallest"},"Smallest"),r.a.createElement(Re.a,{value:"Small"},"Small"),r.a.createElement(Re.a,{value:"Normal"},"Normal"),r.a.createElement(Re.a,{value:"Large"},"Large"),r.a.createElement(Re.a,{value:"Largest"},"Largest"))))))),r.a.createElement(Se.a,null,r.a.createElement(Oe.a,{onClick:e.handleClose},"Close"))))}function $t(e){var t=r.a.useRef(null);return r.a.useEffect((function(){if(e.exit){var a=t.current;null!==a&&a.focus()}}),[e.exit]),r.a.createElement(we.a,{open:e.exit,onClose:e.toggleExit,scroll:"paper",fullWidth:!0,maxWidth:"sm","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(je.a,{id:"scroll-dialog-title"},"Exit ASReview"),r.a.createElement(ye.a,{dividers:!0},("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)&&r.a.createElement("div",null,r.a.createElement(y.a,null,"Close your browser window. Your work is saved."),r.a.createElement("br",null),r.a.createElement(y.a,null,"For a complete shutdown, please close your terminal or CMD.exe as well (CTRL+C).")),"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&r.a.createElement(y.a,null,"Just close the window")&r.a.createElement("div",null,r.a.createElement(y.a,null,"Close your browser window. Your work is saved."),r.a.createElement("br",null),r.a.createElement(y.a,null,"For a complete shutdown, please close your terminal or CMD.exe as well (CTRL+C)."))),r.a.createElement(Se.a,null,r.a.createElement(Oe.a,{onClick:e.toggleExit},"Close")))}var ea=a(246),ta=(a(486),Object(v.a)((function(e){return{background:{backgroundColor:"#8D6E63",height:"100%",width:"100%",position:"absolute"},root:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},logo_single:{margin:"auto",width:160,fill:"white"},logo:{margin:"auto",width:380,fill:"white"},plusicon:{marginTop:"50px",marginBottom:"50px"},title:{textAlign:"center",marginTop:"18px",fontSize:"30px",color:"white"},error:{textAlign:"center",marginTop:"18px",fontSize:"30px",backgroundColor:"#FFF"},title_small:{fontSize:"20px"}}}))),aa=function(e){var t=ta(),a=Object(n.useState)(!0),l=Object(d.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)("asreview"),h=Object(d.a)(p,2),E=h[0],g=h[1];return Object(n.useEffect)((function(){(function(){var t=Object(kt.a)(Ct.a.mark((function t(){return Ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be.a.get(z+"boot").then((function(t){console.log("Boot status: "+t.data.status),g(t.data.status),m(!0),"development"===t.data.status&&e.handleAppState("projects")})).catch((function(e){console.log("Boot status: error"),g("error"),m(!0)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),u?"error"===E?r.a.createElement(K.a,{className:t.background},r.a.createElement(y.a,{className:t.error,color:"error"},"Error - failed to connect with server")):r.a.createElement(ea.a,{in:o,timeout:{enter:0,exit:600},mountOnEnter:!0,unmountOnExit:!0,onEnter:function(){setTimeout((function(){c(!1)}),4e3)},onExited:function(){e.handleAppState("projects")}},r.a.createElement(K.a,{className:t.background},r.a.createElement(K.a,{className:t.root},r.a.createElement("div",{className:"asreview"===E?t.logo_single:t.logo},r.a.createElement("span",null,r.a.createElement("svg",{width:"160px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M17.3,3.9a4.4,4.4,0,0,0,2.4-1A1.2,1.2,0,0,0,19.6,1,3.9,3.9,0,0,0,17.1.3a6.4,6.4,0,0,0-2.7.7,5.7,5.7,0,0,0-2.7,3.4c-3.6.1-6.8,3.5-7.1,7.9A8.6,8.6,0,0,0,8,20c-1.2.3-2,1-2,1.8s1.3,1.8,2.9,1.8a3,3,0,0,0,2.7-1.2,3.4,3.4,0,0,0,2.8,1.2c1.6,0,2.9-.8,2.9-1.8s-.9-1.6-2.2-1.8a8.8,8.8,0,0,0,3.6-6.7c.3-4.2-2.1-7.9-5.5-8.7a2.9,2.9,0,0,1,1.3-.5A24.6,24.6,0,0,1,17.3,3.9ZM14.8,8.7a1.7,1.7,0,0,1,1.6,1.7v1.3a1.6,1.6,0,0,1-1.6,1.6H8.5a1.6,1.6,0,0,1-1.6-1.6V10.4A1.7,1.7,0,0,1,8.5,8.7Z"}),r.a.createElement("path",{d:"M7.9,11.7a.5.5,0,0,0,.5.4.4.4,0,0,0,.4-.4.9.9,0,0,1,.8-.8.9.9,0,0,1,.8.8.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4A1.8,1.8,0,0,0,9.6,10,1.8,1.8,0,0,0,7.9,11.7Z"}),r.a.createElement("path",{d:"M12.5,12.1a.4.4,0,0,0,.4-.4.8.8,0,1,1,1.6,0,.4.4,0,0,0,.4.4.5.5,0,0,0,.5-.4,1.7,1.7,0,0,0-3.4,0A.5.5,0,0,0,12.5,12.1Z"}))),"asreview-covid19"===E&&r.a.createElement("span",null,r.a.createElement("svg",{width:"60px",className:t.plusicon,viewBox:"0 0 24 24","aria-hidden":"true"},r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),r.a.createElement("svg",{width:"160px",className:"rotate",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M18.7,12.1c0,.9.3,1.5.7,1.5s.7-.8.7-1.7-.4-1.7-.8-1.7-.6.6-.7,1.5h-1A7.9,7.9,0,0,0,17,9.5l.9-.5c.5.7,1.1,1.1,1.4.9s.2-1-.3-1.9-1.1-1.3-1.4-1.1-.3.9.1,1.6l-.9.6a9.1,9.1,0,0,0-1.7-1.7l.5-.9c.8.3,1.5.4,1.6.1s-.3-1-1.1-1.5-1.6-.6-1.8-.2.2.9.9,1.3l-.5,1h0a7.7,7.7,0,0,0-2.6-.7V5.4c.9,0,1.5-.3,1.5-.7S12.8,4,11.9,4s-1.7.4-1.7.8.6.6,1.5.6V6.5a4.4,4.4,0,0,0-2.3.6h0l-.6-.9c.6-.5,1-1.1.8-1.4s-1-.1-1.8.4-1.3,1.2-1,1.6.9.1,1.6-.3l.6.9A4.9,4.9,0,0,0,7,9.1l-.9-.6c.4-.7.4-1.4.1-1.6s-1,.3-1.4,1.2-.6,1.6-.3,1.8.9-.2,1.4-.9l.9.5a3.9,3.9,0,0,0-.6,2.1H5.1c0-.8-.3-1.4-.7-1.4s-.7.7-.7,1.7.3,1.7.7,1.7.7-.6.7-1.5H6.2a4.8,4.8,0,0,0,.7,2.4l-.9.6c-.5-.6-1.1-1-1.4-.8s-.2,1.1.4,1.8,1.3,1.3,1.6,1,.1-.9-.3-1.6l.9-.6a5.2,5.2,0,0,0,1.7,1.6h0l-.5,1c-.7-.3-1.5-.3-1.6,0s.4.9,1.3,1.3,1.6.5,1.8.1-.3-.8-1-1.2l.4-1a6,6,0,0,0,2.4.5h-.1v1.2c-.8,0-1.4.3-1.4.7s.7.7,1.7.7,1.7-.4,1.7-.7-.6-.7-1.5-.7V17.2h0a5.9,5.9,0,0,0,2.3-.5l.6.9c-.7.5-1.1,1.1-.9,1.4s1,.1,1.8-.4,1.3-1.2,1.1-1.5-.9-.2-1.6.2l-.6-.8a5.2,5.2,0,0,0,1.9-1.7l.9.5c-.4.8-.4,1.5-.1,1.6s1-.3,1.4-1.1.6-1.7.3-1.8-.9.2-1.4.9l-.9-.5a6.2,6.2,0,0,0,.7-2.3Z"})))),r.a.createElement(y.a,{className:t.title},"ASReview","asreview-covid19"===E&&r.a.createElement("span",null,r.a.createElement("span",{className:t.title_small}," against")," COVID-19"))))):""},na=(a(487),function(){var e=Object(n.useState)({palette:{type:"light",primary:g.a}}),t=Object(d.a)(e,2),a=t[0],l=t[1],o=Object(m.a)(a),c=r.a.useState({step:"boot",reviewDrawerOpen:!1}),i=Object(d.a)(c,2),s=i[0],u=i[1],E=r.a.useState(!1),f=Object(d.a)(E,2),b=f[0],v=f[1],x=r.a.useState(!1),w=Object(d.a)(x,2),j=w[0],y=w[1],S=r.a.useState(!1),O=Object(d.a)(S,2),C=O[0],k=O[1],_=r.a.useState(!1),N=Object(d.a)(_,2),R=N[0],D=N[1],A=r.a.useState(!1),T=Object(d.a)(A,2),B=T[0],W=T[1],F=r.a.useState("Normal"),P=Object(d.a)(F,2),I=P[0],H=P[1],z=function(e){u("review"===e?{step:"review",reviewDrawerOpen:!0}:{step:e,reviewDrawerOpen:!1})},M=function(){var e="light"===a.palette.type?"dark":"light";l({palette:{type:e,primary:g.a}})},L=function(){y((function(e){return!e}))},U=function(){k((function(e){return!e}))},V=function(e){u({step:s.step,reviewDrawerOpen:e})},q=function(e){H(e.target.value)};return console.log("Current step: "+s.step),r.a.createElement(h.a,{theme:o},r.a.createElement(p.a,null),"boot"===s.step&&r.a.createElement(aa,{handleAppState:z}),"boot"!==s.step&&r.a.createElement(J,{appState:s.step,handleAppState:z,reviewDrawerState:s.reviewDrawerOpen,handleReviewDrawer:V,toggleDarkTheme:M,handleClickOpen:function(){v(!0)},handleHistoryOpen:function(){D(!0)},handleTextSizeChange:q,toggleExit:L,toggleExportResult:U}),"projects"===s.step&&r.a.createElement(Jt,{handleAppState:z}),"review-init"===s.step&&r.a.createElement(zt,{handleAppState:z}),"review"===s.step&&r.a.createElement(xe,{reviewDrawerState:s.reviewDrawerOpen,handleReviewDrawer:V,showAuthors:B,textSize:I}),r.a.createElement(Xt,{openSettings:b,handleClose:function(){v(!1)},handleTextSizeChange:q,textSize:I,toggleDarkTheme:M,toggleAuthors:function(){W((function(e){return!e}))},onDark:a,showAuthors:B}),r.a.createElement(Ce,{openHistory:R,handleHistoryClose:function(){D(!1)}}),r.a.createElement($t,{toggleExit:L,exit:j}),r.a.createElement(Ae,{toggleExportResult:U,exportResult:C}))});Object(l.render)(r.a.createElement(o.a,{store:u},r.a.createElement(na,null)),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.7bc06a10.chunk.js.map