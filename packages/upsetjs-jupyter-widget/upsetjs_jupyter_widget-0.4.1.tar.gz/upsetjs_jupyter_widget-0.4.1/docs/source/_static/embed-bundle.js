define("upsetjs_jupyter_widget",["@jupyter-widgets/base"],(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_VERSION="0.4.1",t.MODULE_NAME="@upsetjs/jupyter_widget"},function(e,t,n){"use strict";n.r(t),n.d(t,"asCombination",(function(){return Qe})),n.d(t,"asCombinations",(function(){return Ze})),n.d(t,"asSet",(function(){return Ke})),n.d(t,"asSets",(function(){return et})),n.d(t,"extractSets",(function(){return tt})),n.d(t,"fillDefaults",(function(){return zr})),n.d(t,"fromSetName",(function(){return $e})),n.d(t,"generateCombinations",(function(){return Je})),n.d(t,"generateIntersections",(function(){return Xe})),n.d(t,"generateUnions",(function(){return Ye})),n.d(t,"hydrateUpSet",(function(){return Tr})),n.d(t,"isCalcQuery",(function(){return Oe})),n.d(t,"isElemQuery",(function(){return Ae})),n.d(t,"isSetQuery",(function(){return Ce})),n.d(t,"powerSet",(function(){return Be})),n.d(t,"propValidators",(function(){return Lr})),n.d(t,"queryElemOverlap",(function(){return ze})),n.d(t,"queryOverlap",(function(){return Le})),n.d(t,"renderUpSet",(function(){return Pr})),n.d(t,"setElemOverlap",(function(){return Ne})),n.d(t,"setElemOverlapFactory",(function(){return Ee})),n.d(t,"setOverlap",(function(){return Se})),n.d(t,"setOverlapFactory",(function(){return Me})),n.d(t,"validators",(function(){return nt}));var r,i,o,a,l,s,u,c={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function h(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n){var r,i=arguments,o={};for(r in t)"key"!==r&&"ref"!==r&&(o[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(o.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return y(e,o,t&&t.key,t&&t.ref)}function y(e,t,n,i){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return r.vnode&&r.vnode(o),o}function _(e){return e.children}function v(e,t){this.props=e,this.context=t}function g(e,t){if(null==t)return e.__?g(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?g(e):null}function b(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return b(e)}}function x(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!o++||l!==r.debounceRendering)&&((l=r.debounceRendering)||a)(w)}function w(){for(var e;o=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],r=A(a,i,h({},i),t.__n,void 0!==a.ownerSVGElement,null,n,null==o?g(i):o),O(n,i),r!=o&&b(i)))}))}function k(e,t,n,r,i,o,a,l,s){var u,d,h,p,y,_,v,b=n&&n.__k||f,x=b.length;if(l==c&&(l=null!=o?o[0]:x?g(n,0):null),u=0,t.__k=M(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(h=b[u])||h&&n.key==h.key&&n.type===h.type)b[u]=void 0;else for(d=0;d<x;d++){if((h=b[d])&&n.key==h.key&&n.type===h.type){b[d]=void 0;break}h=null}if(p=A(e,n,h=h||c,r,i,o,a,l,s),(d=n.ref)&&h.ref!=d&&(v||(v=[]),h.ref&&v.push(h.ref,null,n),v.push(d,n.__c||p,n)),null!=p){var f;if(null==_&&(_=p),void 0!==n.__d)f=n.__d,n.__d=void 0;else if(o==h||p!=l||null==p.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(p),f=null;else{for(y=l,d=0;(y=y.nextSibling)&&d<x;d+=2)if(y==p)break e;e.insertBefore(p,l),f=l}"option"==t.type&&(e.value="")}l=void 0!==f?f:p.nextSibling,"function"==typeof t.type&&(t.__d=l)}else l&&h.__e==l&&l.parentNode!=e&&(l=g(h))}return u++,n})),t.__e=_,null!=o&&"function"!=typeof t.type)for(u=o.length;u--;)null!=o[u]&&m(o[u]);for(u=x;u--;)null!=b[u]&&z(b[u],b[u]);if(v)for(u=0;u<v.length;u++)L(v[u],v[++u],v[++u])}function M(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)M(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?y(null,e,null,null):null!=e.__e||null!=e.__c?y(e.type,e.props,e.key,null):e):e);return n}function S(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function E(e,t,n,r,i){var o,a,l,s,u;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(a in r)n&&a in n||S(o,a,"");if(n)for(l in n)r&&n[l]===r[l]||S(o,l,n[l])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),n?(r||e.addEventListener(t,N,s),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,N,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function N(e){this.l[e.type](r.event?r.event(e):e)}function A(e,t,n,i,o,a,l,s,u){var c,f,d,m,p,y,g,b,x,w,M=t.type;if(void 0!==t.constructor)return null;(c=r.__b)&&c(t);try{e:if("function"==typeof M){if(b=t.props,x=(c=M.contextType)&&i[c.__c],w=c?x?x.props.value:c.__:i,n.__c?g=(f=t.__c=n.__c).__=f.__E:("prototype"in M&&M.prototype.render?t.__c=f=new M(b,w):(t.__c=f=new v(b,w),f.constructor=M,f.render=P),x&&x.sub(f),f.props=b,f.state||(f.state={}),f.context=w,f.__n=i,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=M.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=h({},f.__s)),h(f.__s,M.getDerivedStateFromProps(b,f.__s))),m=f.props,p=f.state,d)null==M.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==M.getDerivedStateFromProps&&b!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,w)){for(f.props=b,f.state=f.__s,f.__d=!1,f.__v=t,t.__e=n.__e,t.__k=n.__k,f.__h.length&&l.push(f),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(m,p,y)}))}f.context=w,f.props=b,f.state=f.__s,(c=r.__r)&&c(t),f.__d=!1,f.__v=t,f.__P=e,c=f.render(f.props,f.state,f.context),t.__k=null!=c&&c.type==_&&null==c.key?c.props.children:Array.isArray(c)?c:[c],null!=f.getChildContext&&(i=h(h({},i),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(m,p)),k(e,t,n,i,o,a,l,s,u),f.base=t.__e,f.__h.length&&l.push(f),g&&(f.__E=f.__=null),f.__e=!1}else t.__e=C(n.__e,t,n,i,o,a,l,u);(c=r.diffed)&&c(t)}catch(e){r.__e(e,t,n)}return t.__e}function O(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function C(e,t,n,r,i,o,a,l){var s,u,d,h,m,p=n.props,y=t.props;if(i="svg"===t.type||i,null!=o)for(s=0;s<o.length;s++)if(null!=(u=o[s])&&((null===t.type?3===u.nodeType:u.localName===t.type)||e==u)){e=u,o[s]=null;break}if(null==e){if(null===t.type)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,y.is&&{is:y.is}),o=null}if(null===t.type)p!==y&&e.data!=y&&(e.data=y);else if(t!==n){if(null!=o&&(o=f.slice.call(e.childNodes)),d=(p=n.props||c).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!l){if(p===c)for(p={},m=0;m<e.attributes.length;m++)p[e.attributes[m].name]=e.attributes[m].value;(h||d)&&(h&&d&&h.__html==d.__html||(e.innerHTML=h&&h.__html||""))}(function(e,t,n,r,i){var o;for(o in n)o in t||E(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"value"===o||"checked"===o||n[o]===t[o]||E(e,o,t[o],n[o],r)})(e,y,p,i,l),t.__k=t.props.children,h||k(e,t,n,r,"foreignObject"!==t.type&&i,o,a,c,l),l||("value"in y&&void 0!==y.value&&y.value!==e.value&&(e.value=null==y.value?"":y.value),"checked"in y&&void 0!==y.checked&&y.checked!==e.checked&&(e.checked=y.checked))}return e}function L(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function z(e,t,n){var i,o,a;if(r.unmount&&r.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||L(i,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){r.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&z(i[a],t,n);null!=o&&m(o)}function P(e,t,n){return this.constructor(e,n)}function T(e,t,n){var i,o,a;r.__&&r.__(e,t),o=(i=n===s)?null:n&&n.__k||t.__k,e=p(_,null,[e]),a=[],A(t,(i?t:n||t).__k=e,o||c,c,void 0!==t.ownerSVGElement,n&&!i?[n]:o?null:f.slice.call(t.childNodes),a,n||c,i),O(a,e)}function j(e,t){T(e,t,s)}function I(e,t){return t=h(h({},e.props),t),arguments.length>2&&(t.children=f.slice.call(arguments,2)),y(e.type,t,t.key||e.key,t.ref||e.ref)}r={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return x(n.__E=n)}catch(t){e=t}throw e}},v.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},v.prototype.render=_,i=[],o=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=c,u=0;var R,U,H,B=[],D=r.__r,W=r.diffed,F=r.__c,q=r.unmount;function V(e){r.__h&&r.__h(U);var t=U.__H||(U.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function $(e,t,n){var r=V(R++);return r.__c||(r.__c=U,r.__=[n?n(t):K(void 0,t),function(t){var n=e(r.__[0],t);r.__[0]!==n&&(r.__[0]=n,r.__c.setState({}))}]),r.__}function G(e,t){var n=V(R++);J(n.__H,t)&&(n.__=e,n.__H=t,U.__h.push(n))}function Q(e,t){var n=V(R++);return J(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function Z(){B.some((function(e){if(e.__P)try{e.__H.__h.forEach(X),e.__H.__h.forEach(Y),e.__H.__h=[]}catch(t){return r.__e(t,e.__v),!0}})),B=[]}function X(e){e.t&&e.t()}function Y(e){var t=e.__();"function"==typeof t&&(e.t=t)}function J(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function K(e,t){return"function"==typeof t?t(e):t}function ee(e,t){for(var n in t)e[n]=t[n];return e}function te(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}r.__r=function(e){D&&D(e),R=0,(U=e.__c).__H&&(U.__H.__h.forEach(X),U.__H.__h.forEach(Y),U.__H.__h=[])},r.diffed=function(e){W&&W(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==B.push(t)&&H===r.requestAnimationFrame||((H=r.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(Z))}},r.__c=function(e,t){t.some((function(e){try{e.__h.forEach(X),e.__h=e.__h.filter((function(e){return!e.__||Y(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.__e(n,e.__v)}})),F&&F(e,t)},r.unmount=function(e){q&&q(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){r.__e(e,t.__v)}}};var ne=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return te(this.props,e)||te(this.state,t)},r}(v);var re=r.__b;r.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),re&&re(e)};var ie=function(e,t){return e?M(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},oe={map:ie,forEach:ie,count:function(e){return e?M(e).length:0},only:function(e){if(1!==(e=M(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:M},ae=r.__e;function le(e){return e&&((e=ee({},e)).__c=null,e.__k=e.__k&&e.__k.map(le)),e}function se(e){this.__u=0,this.o=null,this.__b=null}function ue(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function ce(){this.i=null,this.l=null}r.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return r.__c(e,t.__c);ae(e,t,n)},(se.prototype=new v).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=ue(n.__v),i=!1,o=function(){i||(i=!0,r?r(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var a=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(o,o)},se.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=le(this.__b),this.__b=null),[p(v,null,t.u?null:e.children),t.u&&e.fallback]};var fe=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(ce.prototype=new v).u=function(e){var t=this,n=ue(t.__v),r=t.l.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),fe(t,e,r)):i()};n?n(o):o()}},ce.prototype.render=function(e){this.i=null,this.l=new Map;var t=M(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){fe(e,n,t)}))};var de=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function he(e){var t=this,n=e.container,r=p(de,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),z(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,T(r,n),t.__k=n.__k):(t.v=document.createTextNode(""),j("",n),n.appendChild(t.v),t.p=!0,t.s=n,T(r,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),z(t.h)),t.h=r,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),z(t.h)},null}var me=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;v.prototype.isReactComponent={};var pe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function ye(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return T(e,t),"function"==typeof n&&n(),e?e.__c:null}var _e=r.event;function ve(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}r.event=function(e){_e&&(e=_e(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var ge={configurable:!0,get:function(){return this.class}},be=r.vnode;function xe(e){return!!e&&e.$$typeof===pe}r.vnode=function(e){e.$$typeof=pe;var t=e.type,n=e.props;if(n.class!=n.className&&(ge.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",ge)),"function"!=typeof t){var r,i,o;for(o in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(M(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(r=me.test(o))break;if(r)for(o in i=e.props={},n)i[me.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=n[o]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var i={};for(var o in r)/^on(Ani|Tra|Tou)/.test(o)&&(r[o.toLowerCase()]=r[o],delete r[o]),i[o.toLowerCase()]=o;if(i.ondoubleclick&&(r.ondblclick=r[i.ondoubleclick],delete r[i.ondoubleclick]),i.onbeforeinput&&(r.onbeforeinput=r[i.onbeforeinput],delete r[i.onbeforeinput]),i.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var a=i.oninput||"oninput";r[a]||(r[a]=r[i.onchange],delete r[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(ve(t.prototype,"componentWillMount"),ve(t.prototype,"componentWillReceiveProps"),ve(t.prototype,"componentWillUpdate"),t.m=!0),be&&be(e)};var we={useState:function(e){return $(K,e)},useReducer:$,useEffect:function(e,t){var n=V(R++);J(n.__H,t)&&(n.__=e,n.__H=t,U.__H.__h.push(n))},useLayoutEffect:G,useRef:function(e){return Q((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){G((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:Q,useCallback:function(e,t){return Q((function(){return e}),t)},useContext:function(e){var t=U.context[e.__c];if(!t)return e.__;var n=V(R++);return null==n.__&&(n.__=!0,t.sub(U)),t.props.value},useDebugValue:function(e,t){r.useDebugValue&&r.useDebugValue(t?t(e):e)},version:"16.8.0",Children:oe,render:ye,hydrate:ye,unmountComponentAtNode:function(e){return!!e.__k&&(T(null,e),!0)},createPortal:function(e,t){return p(he,{vnode:e,container:t})},createElement:p,createContext:function(e){var t={},n={__c:"__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=i,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,x(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n},createFactory:function(e){return p.bind(null,e)},cloneElement:function(e){return xe(e)?I.apply(null,arguments):e},createRef:function(){return{}},Fragment:_,isValidElement:xe,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:v,PureComponent:ne,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:te(this.props,e)}function r(t){return this.shouldComponentUpdate=n,p(e,ee({},t))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r},forwardRef:function(e){function t(t){var n=ee({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},unstable_batchedUpdates:function(e,t){return e(t)},Suspense:se,SuspenseList:ce,lazy:function(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return p(n,i)}return i.displayName="Lazy",i.t=!0,i}};function ke(e){return e instanceof Set?e.size:e.length}function Me(e){var t=e instanceof Set?e:new Set(e),n=t.size,r={setA:n,setB:n,union:n,intersection:n};return function(i){if(i===e)return r;var o=0;i.forEach((function(e){t.has(e)&&o++}));var a=ke(i);return{setA:n,setB:a,intersection:o,union:n+a-o}}}function Se(e,t){if(ke(e)<ke(t)||e instanceof Set)return Me(e)(t);var n=Me(t)(e);return Object.assign({},n,{setA:n.setB,setB:n.setA})}function Ee(e){var t=e instanceof Set?e:new Set(e),n=Array.isArray(e)?e:Array.from(e),r={setA:n,setB:n,union:n,intersection:n};return function(i){if(i===e)return r;var o=[],a=n.slice();return i.forEach((function(e){t.has(e)?o.push(e):a.push(e)})),{setA:n,setB:Array.isArray(i)?i:Array.from(i),intersection:o,union:a}}}function Ne(e,t){if(ke(e)<ke(t)||e instanceof Set)return Ee(e)(t);var n=Ee(t)(e);return Object.assign({},n,{setA:n.setB,setB:n.setA})}function Ae(e){return Array.isArray(e.elems)}function Oe(e){return"function"==typeof e.overlap}function Ce(e){return null!=e.set}function Le(e,t){if(Oe(e))return e.overlap;var n=Me(Ae(e)?e.elems:e.set.elems);return function(e){return n(e.elems)[t]}}function ze(e,t){if(Oe(e))return function(){return null};var n=Ee(Ae(e)?e.elems:e.set.elems);return function(e){return n(e.elems)[t]}}function Pe(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function Te(e){return Pe(e)&&"set"===e.type}function je(e){var t=e;return Pe(e)&&["composite","union","intersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function Ie(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Re(e,t,n){for(var r=void 0===n?{}:n,i=r.min,o=void 0===i?0:i,a=r.max,l=void 0===a?1/0:a,s=Math.pow(2,e.length),u=0,c=1,f=0;f<s;f++){f>=c&&(u++,c<<=1);for(var d=[],h=0;h<u;h++)f&1<<h&&d.push(e[h]);d.length>=o&&d.length<=l&&t(d)}}function Ue(e,t,n){for(var r=void 0===n?{}:n,i=r.min,o=void 0===i?0:i,a=r.max,l=void 0===a?1/0:a,s=BigInt(0),u=BigInt(1),c=BigInt(2)<<BigInt(e.length),f=0,d=u,h=e.map((function(e,t){return u<<BigInt(t)})),m=s;m<c;m+=u){m>=d&&(f++,d<<=u);for(var p=[],y=0;y<f;y++)(m&h[y])!==s&&p.push(e[y]);p.length>=o&&p.length<=l&&t(p)}}function He(e,t,n){var r=void 0===n?{}:n,i=r.min,o=void 0===i?0:i,a=r.max,l=void 0===a?1/0:a,s=function(e){return e>=o&&e<=l};s(0)&&t([]),function n(r,i){if(!(r.length>=l))for(var o=i;o<e.length;o++)r.push(e[o]),s(r.length)&&t(r.slice()),n(r,o+1),r.pop()}([],0)}function Be(e,t){void 0===t&&(t={});var n=function(n){return{forEach:function(r){return n(e,r,t)}}};return Math.pow(2,e.length)<Number.MAX_SAFE_INTEGER?n(Re):void 0!==window.BigInt?n(Ue):n(He)}function De(e,t){return e.name.localeCompare(t.name)}function We(e,t){return t.cardinality-e.cardinality}function Fe(e,t){return e.degree-t.degree}function qe(e){return function(t,n){return e.reduce((function(e,r){return 0===e?r(t,n):e}),0)}}function Ve(e){return function(t,n){var r=function(e){return e<0?Number.POSITIVE_INFINITY:e};return r(e.findIndex((function(e){return t.sets.has(e)})))-r(e.findIndex((function(e){return n.sets.has(e)})))}}function $e(e,t){void 0===t&&(t=/[∩∪&|]/);var n=new Map(e.map((function(e){return[e.name,e]})));return function(e){return e.name.split(t).map((function(e){return n.get(e.trim())}))}}function Ge(e,t,n){void 0===n&&(n={});var r=t;if(n.order){var i=Array.isArray(n.order)?n.order:[n.order],o={cardinality:We,name:De,degree:Fe,group:Ve(e)},a=qe(i.map((function(e){return o[e]})));r=r.sort(a)}return null!=n.limit?r.slice(0,n.limit):r}function Qe(e,t,n){var r=n(e);return Object.assign({type:t,cardinality:e.elems.length,sets:new Set(r),degree:r.length},e)}function Ze(e,t,n){return e.map((function(e){return Qe(e,t,n)}))}function Xe(e,t){var n=void 0===t?{}:t,r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1/0:o,l=n.empty,s=void 0!==l&&l,u=n.elems,c=void 0===u?[]:u,f=Ie(n,["min","max","empty","elems"]),d=new Map(e.map((function(e){return[e,new Set(e.elems)]})));var h=[];return Be(e,{min:i,max:a}).forEach((function(e){var t=function(e){if(0===e.length){var t=Array.from(d.values());return c.filter((function(e){return t.every((function(t){return!t.has(e)}))}))}return 1===e.length?e[0].elems:e.reduce((function(e,t){return!e||e.length>t.elems.length?t.elems:e}),null).filter((function(t){return e.every((function(e){return d.get(e).has(t)}))}))}(e);(s||0!==t.length)&&h.push({type:"intersection",elems:t,sets:new Set(e),name:1===e.length?e[0].name:"("+e.map((function(e){return e.name})).join(" ∩ ")+")",cardinality:t.length,degree:e.length})})),Ge(e,h,f)}function Ye(e,t){var n=void 0===t?{}:t,r=n.min,i=void 0===r?2:r,o=n.max,a=void 0===o?1/0:o,l=n.empty,s=void 0!==l&&l,u=n.elems,c=void 0===u?[]:u,f=Ie(n,["min","max","empty","elems"]);var d=[];return Be(e,{min:i,max:a}).forEach((function(t){var n=function(t){if(0===t.length){var n=new Set;return e.forEach((function(e){e.elems.forEach((function(e){return n.add(e)}))})),c.filter((function(e){return!n.has(e)}))}if(1===t.length)return t[0].elems;var r=t.reduce((function(e,t){return!e||e.length<t.elems.length?t.elems:e}),null),i=r.slice(),o=new Set(i);return t.forEach((function(e){e.elems!==r&&e.elems.forEach((function(e){o.has(e)||(i.push(e),o.add(e))}))})),i}(t);(s||0!==n.length)&&d.push({type:"union",elems:n,sets:new Set(t),name:1===t.length?t[0].name:"("+t.map((function(e){return e.name})).join(" ∪ ")+")",cardinality:n.length,degree:t.length})})),Ge(e,d,f)}function Je(e,t){return"union"===t.type?Ye(e,t):Xe(e,t)}function Ke(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function et(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});var n=e;return t.order&&(n=n.slice().sort("cardinality"===t.order?qe([We,De]):De)),null!=t.limit?n.slice(0,t.limit):n}(e.map(Ke),t)}function tt(e){var t=new Map;return e.forEach((function(e){e.sets.forEach((function(n){t.has(n)?t.get(n).push(e):t.set(n,[e])}))})),Array.from(t).map((function(e){var t=e[0],n=e[1];return{type:"set",elems:n,name:t.toString(),cardinality:n.length}}))}var nt={isGenerateSetCombinationOptions:function(e){var t=e;return null!=e&&(null==t.type||["intersection","union"].includes(t.type))},isSet:Te,isSetCombination:je,isSetLike:function(e){return Te(e)||je(e)},isSetQuery:function e(t){var n=t;return null!=t&&"string"==typeof n.name&&"string"==typeof n.color&&(Ae(n)||e(n)||Oe(n))}};function rt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function it(e){return 1===e.length&&(e=function(e){return function(t,n){return rt(e(t),n)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var ot=it(rt).right;function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function st(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var ut=Math.sqrt(50),ct=Math.sqrt(10),ft=Math.sqrt(2);function dt(e,t,n){var r,i,o,a,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=ht(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++l<i;)o[l]=(e+l)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++l<i;)o[l]=(e-l)/a;return r&&o.reverse(),o}function ht(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ut?10:o>=ct?5:o>=ft?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ut?10:o>=ct?5:o>=ft?2:1)}function mt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var pt=Symbol("implicit");function yt(){var e=new Map,t=[],n=[],r=pt;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==pt)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(var r,o=lt(n);!(r=o()).done;){var a=r.value,l=a+"";e.has(l)||e.set(l,t.push(a))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return yt(t,n).unknown(r)},mt.apply(i,arguments),i}function _t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function gt(){}var bt="\\s*([+-]?\\d+)\\s*",xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kt=/^#([0-9a-f]{3,8})$/,Mt=new RegExp("^rgb\\("+[bt,bt,bt]+"\\)$"),St=new RegExp("^rgb\\("+[wt,wt,wt]+"\\)$"),Et=new RegExp("^rgba\\("+[bt,bt,bt,xt]+"\\)$"),Nt=new RegExp("^rgba\\("+[wt,wt,wt,xt]+"\\)$"),At=new RegExp("^hsl\\("+[xt,wt,wt]+"\\)$"),Ot=new RegExp("^hsla\\("+[xt,wt,wt,xt]+"\\)$"),Ct={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(){return this.rgb().formatHex()}function zt(){return this.rgb().formatRgb()}function Pt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Tt(t):3===n?new Ut(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new Ut(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new Ut(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Mt.exec(e))?new Ut(t[1],t[2],t[3],1):(t=St.exec(e))?new Ut(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Et.exec(e))?jt(t[1],t[2],t[3],t[4]):(t=Nt.exec(e))?jt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=At.exec(e))?Wt(t[1],t[2]/100,t[3]/100,1):(t=Ot.exec(e))?Wt(t[1],t[2]/100,t[3]/100,t[4]):Ct.hasOwnProperty(e)?Tt(Ct[e]):"transparent"===e?new Ut(NaN,NaN,NaN,0):null}function Tt(e){return new Ut(e>>16&255,e>>8&255,255&e,1)}function jt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ut(e,t,n,r)}function It(e){return e instanceof gt||(e=Pt(e)),e?new Ut((e=e.rgb()).r,e.g,e.b,e.opacity):new Ut}function Rt(e,t,n,r){return 1===arguments.length?It(e):new Ut(e,t,n,null==r?1:r)}function Ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ht(){return"#"+Dt(this.r)+Dt(this.g)+Dt(this.b)}function Bt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Dt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Wt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qt(e,t,n,r)}function Ft(e){if(e instanceof qt)return new qt(e.h,e.s,e.l,e.opacity);if(e instanceof gt||(e=Pt(e)),!e)return new qt;if(e instanceof qt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(a=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new qt(a,l,s,e.opacity)}function qt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Vt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function $t(e){return function(){return e}}function Gt(e){return 1==(e=+e)?Qt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):$t(isNaN(t)?n:t)}}function Qt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):$t(isNaN(e)?t:e)}_t(gt,Pt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHsl:function(){return Ft(this).formatHsl()},formatRgb:zt,toString:zt}),_t(Ut,Rt,vt(gt,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatRgb:Bt,toString:Bt})),_t(qt,(function(e,t,n,r){return 1===arguments.length?Ft(e):new qt(e,t,n,null==r?1:r)}),vt(gt,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new qt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new qt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ut(Vt(e>=240?e-240:e+120,i,r),Vt(e,i,r),Vt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Zt=function e(t){var n=Gt(t);function r(e,t){var r=n((e=Rt(e)).r,(t=Rt(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Qt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Xt(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Yt(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=on(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Jt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function en(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=on(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nn=new RegExp(tn.source,"g");function rn(e,t){var n,r,i,o=tn.lastIndex=nn.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=tn.exec(e))&&(r=nn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Kt(n,r)})),o=nn.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function on(e,t){var n,r=typeof t;return null==t||"boolean"===r?$t(t):("number"===r?Kt:"string"===r?(n=Pt(t))?(t=n,Zt):rn:t instanceof Pt?Zt:t instanceof Date?Jt:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Xt:Array.isArray(t)?Yt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?en:Kt)(e,t)}function an(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ln(e){return+e}var sn=[0,1];function un(e){return e}function cn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function fn(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=cn(i,r),o=n(a,o)):(r=cn(r,i),o=n(o,a)),function(e){return o(r(e))}}function dn(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=cn(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=ot(e,t,1,r)-1;return o[n](i[n](t))}}function hn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mn(){var e,t,n,r,i,o,a=sn,l=sn,s=on,u=un;function c(){var e=Math.min(a.length,l.length);return u!==un&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?dn:fn,i=o=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),l,s)))(e(u(t)))}return f.invert=function(n){return u(t((o||(o=r(l,a.map(e),Kt)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,ln),c()):a.slice()},f.range=function(e){return arguments.length?(l=Array.from(e),c()):l.slice()},f.rangeRound=function(e){return l=Array.from(e),s=an,c()},f.clamp=function(e){return arguments.length?(u=!!e||un,c()):u!==un},f.interpolate=function(e){return arguments.length?(s=e,c()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function pn(){return mn()(un,un)}function yn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _n(e){return(e=yn(Math.abs(e)))?e[1]:NaN}var vn,gn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bn(e){if(!(t=gn.exec(e)))throw new Error("invalid format: "+e);var t;return new xn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function xn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function wn(e,t){var n=yn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}bn.prototype=xn.prototype,xn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var kn={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return wn(100*e,t)},r:wn,s:function(e,t){var n=yn(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(vn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yn(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Mn(e){return e}var Sn,En,Nn,An=Array.prototype.map,On=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cn(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Mn:(t=An.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Mn:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(An.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=bn(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,m=e.width,p=e.comma,y=e.precision,_=e.trim,v=e.type;"n"===v?(p=!0,v="g"):kn[v]||(void 0===y&&(y=12),_=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var g="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===d?o:/[%p]/.test(v)?s:"",x=kn[v],w=/[defgprs%]/.test(v);function k(e){var i,o,s,d=g,k=b;if("c"===v)k=x(e)+k,e="";else{var M=(e=+e)<0;if(e=isNaN(e)?c:x(Math.abs(e),y),_&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&(M=!1),d=(M?"("===f?f:u:"-"===f||"("===f?"":f)+d,k=("s"===v?On[8+vn/3]:"")+k+(M&&"("===f?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}p&&!h&&(e=r(e,1/0));var S=d.length+e.length+k.length,E=S<m?new Array(m-S+1).join(t):"";switch(p&&h&&(e=r(E+e,E.length?m-k.length:1/0),E=""),n){case"<":e=d+e+k+E;break;case"=":e=d+E+e+k;break;case"^":e=E.slice(0,S=E.length>>1)+d+e+k+E.slice(S);break;default:e=E+d+e+k}return l(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=bn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(_n(t)/3))),i=Math.pow(10,-r),o=On[8+r/3];return function(e){return n(i*e)+o}}}}function Ln(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ut?i*=10:o>=ct?i*=5:o>=ft&&(i*=2),t<e?-i:i}(e,t,n);switch((r=bn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_n(t)/3)))-_n(Math.abs(e)))}(o,a))||(r.precision=i),Nn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_n(t)-_n(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-_n(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return En(r)}function zn(e){var t=e.domain;return e.ticks=function(e){var n=t();return dt(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Ln(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,l=i[o],s=i[a];return s<l&&(r=l,l=s,s=r,r=o,o=a,a=r),(r=ht(l,s,n))>0?r=ht(l=Math.floor(l/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=ht(l=Math.ceil(l*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[o]=Math.floor(l/r)*r,i[a]=Math.ceil(s/r)*r,t(i)):r<0&&(i[o]=Math.ceil(l*r)/r,i[a]=Math.floor(s*r)/r,t(i)),e},e}function Pn(e){return Math.log(e)}function Tn(e){return Math.exp(e)}function jn(e){return-Math.log(-e)}function In(e){return-Math.exp(-e)}function Rn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Un(e){return function(t){return-e(-t)}}function Hn(e){var t,n,r=e(Pn,Tn),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?Rn:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=Un(t),n=Un(n),e(jn,In)):e(Pn,Tn),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),l=a[0],s=a[a.length-1];(r=s<l)&&(d=l,l=s,s=d);var u,c,f,d=t(l),h=t(s),m=null==e?10:+e,p=[];if(!(o%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(c=1,u=n(d);c<o;++c)if(!((f=u*c)<l)){if(f>s)break;p.push(f)}}else for(;d<=h;++d)for(c=o-1,u=n(d);c>=1;--c)if(!((f=u*c)<l)){if(f>s)break;p.push(f)}2*p.length<m&&(p=dt(l,s,m))}else p=dt(d,h,Math.min(h-d,m)).map(n);return r?p.reverse():p},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=En(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}Sn=Cn({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),En=Sn.format,Nn=Sn.formatPrefix;var Bn=function(e,t){var n=t.type,r=void 0===n?"png":n,i=t.title,o=void 0===i?"UpSet":i,a=t.theme,l=void 0===a?"light":a,s=t.toRemove;try{var u=function(){URL.revokeObjectURL(d)},c=e.cloneNode(!0);c.style.backgroundColor="dark"===l?"#303030":"white",s&&Array.from(c.querySelectorAll(s)).forEach((function(e){return e.remove()}));var f=new Blob([(new XMLSerializer).serializeToString(c)],{type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(f),h=function(){if("svg"!==r)return Promise.resolve(function(e,t){var n=t.ownerDocument.createElement("canvas"),r=t.getBoundingClientRect();n.width=r.width,n.height=r.height;var i=n.getContext("2d"),o=new Image(n.width,n.height);return new Promise((function(t){o.onload=function(){i.drawImage(o,0,0);var e=n.toDataURL("image/png");t(e)},o.src=e}))}(d,e)).then((function(t){Dn(t,o+"."+r,e.ownerDocument)}));Dn(d,o+"."+r,e.ownerDocument)}();return Promise.resolve(h&&h.then?h.then(u):u())}catch(e){return Promise.reject(e)}};function Dn(e,t,n){var r=n.createElement("a");r.href=e,r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.download=t,document.body.appendChild(r),r.click(),r.remove()}var Wn={selectionColor:"#ffa500",color:"#000000",textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"#0000000d"},Fn={selectionColor:"#ffa500",color:"#cccccc",textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"#ffffff33"};function qn(e){return Array.isArray(e)}var Vn={},$n=[],Gn={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px"},Qn=[.2,.1,.7],Zn=[.6,.4],Xn={type:"intersection"};function Yn(e){var t=function(e){return"dark"===e?Fn:Wn}(e.theme);return Object.assign({theme:"light",padding:20,barPadding:.3,dotPadding:.7,combinations:Xn,selection:null,combinationName:null==e.combinations||qn(e.combinations)||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:24,combinationNameAxisOffset:30,setName:"Set Size",fontFamily:"sans-serif",widthRatios:Qn,heightRatios:Zn,queries:$n,queryLegend:null!=e.queries&&e.queries.length>0,exportButtons:!0,numericScale:"linear",bandScale:"band",className:"",fontSizes:Gn,classNames:Vn,style:Vn,styles:Vn,childrenFactories:Vn,setAddons:$n,combinationAddons:$n,emptySelection:!0},t,e,e.fontSizes?{fontSizes:Object.assign({},Gn,e.fontSizes)}:Vn)}function Jn(){}function Kn(e){return e?function(t){return function(){return e.call(this,t)}}:Jn}function er(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function tr(e){var t=0,n=0;return function(r){var i=0;return"before"===r.position?i=-(t+=r.size):(i=e+n,n+=r.size),i}}function nr(e){return"upset-"+Math.random().toString(36).slice(4)}function rr(e,t){return function e(){var t=pn();return t.copy=function(){return hn(t,e())},mt.apply(t,arguments),zn(t)}().domain(e).range(t)}function ir(e,t){return function e(){var t=Hn(mn()).domain([1,10]);return t.copy=function(){return hn(t,e()).base(t.base())},mt.apply(t,arguments),t}().domain([Math.max(e[0],1),e[1]]).range(t)}function or(e,t,n){return function e(){var t,n,r=yt().unknown(void 0),i=r.domain,o=r.range,a=0,l=1,s=!1,u=0,c=0,f=.5;function d(){var e=i().length,r=l<a,d=r?l:a,h=r?a:l;t=(h-d)/Math.max(1,e-u+2*c),s&&(t=Math.floor(t)),d+=(h-d-t*(e-u))*f,n=t*(1-u),s&&(d=Math.round(d),n=Math.round(n));var m=st(e).map((function(e){return d+t*e}));return o(r?m.reverse():m)}return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),d()):i()},r.range=function(e){var t;return arguments.length?(a=(t=e)[0],l=t[1],a=+a,l=+l,d()):[a,l]},r.rangeRound=function(e){var t;return a=(t=e)[0],l=t[1],a=+a,l=+l,s=!0,d()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),d()):u},r.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),d()):u},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),d()):f},r.copy=function(){return e(i(),[a,l]).round(s).paddingInner(u).paddingOuter(c).align(f)},mt.apply(d(),arguments)}().domain(e).range(t).padding(n)}function ar(e){return"band"===e?or:e}function lr(e,t,n,r,i,o,a,l){var s,u="linear"===(s=r)?rr:"log"===s?ir:s,c=ar(i),f=function(e){return Array.isArray(e)}(t)?t:Je(e,t),d=c(e.map((function(e){return e.name})).reverse(),[0,n.sets.h],n.padding),h=c(f.map((function(e){return e.name})),[0,n.cs.w],n.padding),m=Math.min(d.bandwidth(),h.bandwidth())/2*a,p=Math.max(2,Math.min(d.bandwidth(),h.bandwidth())/2*l);return{id:nr(),r:m,triangleSize:p,sets:{v:e,rv:e.slice().reverse(),x:u([0,e.reduce((function(e,t){return Math.max(e,t.cardinality)}),0)],[n.sets.w,0]),y:d,bandWidth:d.bandwidth(),cy:d.bandwidth()/2+n.cs.h},cs:{v:f,x:h,y:u([0,f.reduce((function(e,t){return Math.max(e,t.cardinality)}),0)],[n.cs.h,o]),cx:h.bandwidth()/2,bandWidth:h.bandwidth()}}}function sr(e){var t=e.currentTarget.closest("svg"),n=e.currentTarget.dataset.type||"png";Bn(t,{type:n,toRemove:"."+e.currentTarget.className,theme:t.dataset.theme})}function ur(e){var t=e.transform,n=e.styleId;return we.createElement("g",{className:"exportButtons-"+n,transform:t},we.createElement("g",{className:"exportButton-"+n,onClick:sr,"data-type":"png",transform:"translate(-50, 0)"},we.createElement("title",null,"Download PNG Image"),we.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),we.createElement("text",{className:"exportTextStyle-"+n,x:12},"PNG")),we.createElement("g",{className:"exportButton-"+n,onClick:sr,"data-type":"svg",transform:"translate(-24, 0)"},we.createElement("title",null,"Download SVG Image"),we.createElement("rect",{y:-9,width:24,height:11,rx:2,ry:2}),we.createElement("text",{className:"exportTextStyle-"+n,x:12},"SVG")))}var cr=we.memo((function(e){var t=e.queries,n=e.size,r=e.style,i=e.data;return we.createElement("text",{transform:"translate("+n.legend.x+",4)",style:r.styles.legend,className:er("legendTextStyle-"+r.id,r.classNames.legend)},t.map((function(e,t){var n=null;return Ce(e)?n=e.set.cardinality:Ae(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),we.createElement(we.Fragment,{key:e.name},we.createElement("tspan",{className:"fillQ"+t+"-"+i.id},"  ⬤ "),we.createElement("tspan",null,e.name,null!=n?": "+n:""))})))}));var fr=we.memo((function(e){var t=e.pos,n=e.spacing,r=e.tickSizeInner,i=e.orient,o=e.name,a=e.style,l="top"===i||"left"===i?-1:1;return we.createElement("g",{transform:"translate(0, "+(t+.5)+")"},we.createElement("text",{x:l*n,dy:"0.32em",className:er("axisTextStyle-"+a.id,"right"===i?"startText-"+a.id:"endText-"+a.id,a.classNames.axisTick),style:a.styles.axisTick},o),we.createElement("line",{x2:l*r,className:"axisLine-"+a.id}))})),dr=we.memo((function(e){var t=e.pos,n=e.name,r=e.spacing,i=e.orient,o=e.tickSizeInner,a=e.style,l="top"===i||"left"===i?-1:1;return we.createElement("g",{transform:"translate("+(t+.5)+", 0)"},we.createElement("text",{y:l*r,dy:"top"===i?"0em":"0.71em",className:er("axisTextStyle-"+a.id,a.classNames.axisTick),style:a.styles.axisTick},n),we.createElement("line",{y2:l*o,className:"axisLine-"+a.id}))}));function hr(e){var t=e.d3Scale,n=e.orient,r=e.tickSizeInner,i=void 0===r?6:r,o=e.tickSizeOuter,a=void 0===o?6:o,l=e.tickPadding,s=void 0===l?3:l,u=e.style,c=e.transform,f=Math.max(i,0)+s,d=t.range(),h=+d[0]+.5,m=+d[d.length-1]+.5,p="top"===n||"left"===n?-1:1,y="left"===n||"right"===n?fr:dr,_=function(e){return"function"==typeof e.bandwidth}(t)?function(e){var t=e.domain(),r=function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return e(n)+t}}(e);return t.map((function(e){return we.createElement(y,{key:e,pos:r(e),name:e,spacing:f,tickSizeInner:i,orient:n,style:u})}))}(t):function(e){return function(e,t){if(!t)return e;var n=e.map((function(e){return Math.round(e)})),r=Number.NEGATIVE_INFINITY;return n.filter((function(e){return(r===Number.NEGATIVE_INFINITY||r!==e)&&(r=e,!0)}))}(e.ticks(),!0).map((function(t){return we.createElement(y,{key:t,pos:e(t),name:String(t),spacing:f,tickSizeInner:i,orient:n,style:u})}))}(t);return we.createElement("g",{transform:c},_,we.createElement("path",{className:"axisLine-"+u.id,d:"left"===n||"right"===n?a?"M"+p*a+","+h+"H0.5V"+m+"H"+p*a:"M0.5,"+h+"V"+m:a?"M"+h+","+p*a+"V0.5H"+m+"V"+p*a:"M"+h+",0.5H"+m}))}var mr=we.memo((function(e){var t=e.size,n=e.style,r=e.data,i=tr(t.sets.w+t.labels.w+t.cs.w),o=tr(t.cs.h+t.sets.h);return we.createElement("g",null,we.createElement("g",{transform:"translate("+t.cs.x+","+t.cs.y+")"},we.createElement(hr,{d3Scale:r.cs.y,orient:"left",style:n}),we.createElement("line",{x1:0,x2:t.cs.w,y1:t.cs.h+1,y2:t.cs.h+1,className:"axisLine"}),we.createElement("text",{className:er("cChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+-n.cs.offset+", "+t.cs.h/2+")rotate(-90)"},n.cs.name),t.cs.addons.map((function(e){return we.createElement("text",{key:e.name,className:er("cChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+-n.cs.offset+", "+(o(e)+e.size/2)+")rotate(-90)"},e.name)}))),we.createElement("g",{transform:"translate("+t.sets.x+","+t.sets.y+")"},we.createElement(hr,{d3Scale:r.sets.x,orient:"bottom",transform:"translate(0, "+t.sets.h+")",style:n}),we.createElement("text",{className:er("sChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+t.sets.w/2+", "+(t.sets.h+n.sets.offset)+")"},n.sets.name),t.sets.addons.map((function(e){return we.createElement("text",{key:e.name,className:er("sChartTextStyle-"+n.id,n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate("+(i(e)+e.size/2)+", "+(t.sets.h+n.sets.offset)+")"},e.name)}))))})),pr=we.memo((function(e){var t=e.cx,n=e.r,r=e.cy,i=e.name,o=e.className,a=e.style;return we.createElement("circle",{r:n,cx:t,cy:r,className:o,style:a},we.createElement("title",null,i))})),yr=we.memo((function(e){var t=e.d,n=e.onClick,r=e.onMouseEnter,i=e.onMouseLeave,o=e.className,a=e.data,l=e.size,s=e.style,u=e.children,c=a.cs.y(t.cardinality),f=tr(l.cs.h+l.sets.h);return we.createElement("g",{key:t.name,transform:"translate("+a.cs.x(t.name)+", 0)",onMouseEnter:r(t),onMouseLeave:i,onClick:n(t),className:o},we.createElement("title",null,t.name,": ",t.cardinality),we.createElement("rect",{y:-l.cs.before,width:a.cs.bandWidth,height:l.sets.h+l.cs.h+l.cs.before+l.cs.after,className:"hoverBar-"+s.id}),we.createElement("rect",{y:c,height:l.cs.h-c,width:a.cs.bandWidth,className:er("fillPrimary-"+s.id,s.classNames.bar),style:s.styles.bar}),we.createElement("text",{y:c-s.barLabelOffset,x:a.cs.bandWidth/2,style:s.styles.barLabel,className:er("cBarTextStyle-"+s.id,s.classNames.barLabel)},t.cardinality),we.createElement("text",{y:-s.barLabelOffset-l.cs.before,x:a.cs.bandWidth/2,style:s.styles.barLabel,className:er("hoverBarTextStyle-"+s.id,s.classNames.barLabel)},t.name),a.sets.v.map((function(e){return we.createElement(pr,{key:e.name,r:a.r,cx:a.cs.cx,cy:a.sets.y(e.name)+a.sets.cy,name:t.sets.has(e)?e.name:t.name,style:s.styles.dot,className:er(t.sets.has(e)?"fillPrimary-"+s.id:"fillNotMember-"+s.id,s.classNames.dot)})})),t.sets.size>1&&we.createElement("line",{x1:a.cs.cx,y1:a.sets.y(a.sets.v.find((function(e){return t.sets.has(e)})).name)+a.sets.cy,x2:a.cs.cx,y2:a.sets.y(a.sets.rv.find((function(e){return t.sets.has(e)})).name)+a.sets.cy,className:"upsetLine-"+a.id}),l.cs.addons.map((function(e){return we.createElement("g",{key:e.name,transform:"translate(0,"+f(e)+")"},e.render({set:t,width:a.cs.bandWidth,height:e.size}))})),u)})),_r=we.memo((function(e){var t=e.d,n=e.i,r=e.onMouseEnter,i=e.onMouseLeave,o=e.onClick,a=e.className,l=e.size,s=e.data,u=e.style,c=e.children,f=s.sets.x(t.cardinality),d=tr(l.sets.w+l.labels.w+l.cs.w);return we.createElement("g",{transform:"translate(0, "+s.sets.y(t.name)+")",onMouseEnter:r(t),onMouseLeave:i,onClick:o(t),className:a},we.createElement("title",null,t.name,": ",t.cardinality),we.createElement("rect",{x:-l.sets.before,width:l.sets.w+l.labels.w+l.cs.w+l.sets.after,height:s.sets.bandWidth,className:"hoverBar-"+u.id}),n%2==1&&we.createElement("rect",{x:l.sets.w,width:l.labels.w+l.cs.w+l.sets.after,height:s.sets.bandWidth,className:"fillAlternating-"+u.id}),we.createElement("rect",{x:f,width:l.sets.w-f,height:s.sets.bandWidth,className:er("fillPrimary-"+u.id,u.classNames.bar),style:u.styles.bar}),we.createElement("text",{x:f,dx:-u.barLabelOffset,y:s.sets.bandWidth/2,style:u.styles.barLabel,className:er("sBarTextStyle-"+u.id,u.classNames.barLabel)},t.cardinality),we.createElement("text",{x:l.sets.w+l.labels.w/2,y:s.sets.bandWidth/2,className:er("setTextStyle-"+u.id,u.classNames.setLabel),style:u.styles.setLabel,clipPath:"url(#clip-"+l.id+")"},t.name),l.sets.addons.map((function(e){return we.createElement("g",{key:e.name,transform:"translate("+d(e)+",0)"},e.render({set:t,width:e.size,height:s.sets.bandWidth}))})),c)})),vr=we.memo((function(e){var t=e.data,n=e.size,r=e.style,i=e.onHover,o=e.onClick,a=e.childrens,l=we.useMemo((function(){return[Kn(o),Kn(i),i?function(){return i(null)}:void 0]}),[o,i]),s=l[0],u=l[1],c=l[2];return we.createElement("g",{className:o?"clickAble-"+r.id:void 0},we.createElement("g",{transform:"translate("+n.sets.x+","+n.sets.y+")"},t.sets.v.map((function(e,l){return we.createElement(_r,{key:e.name,d:e,i:l,onClick:s,onMouseEnter:u,onMouseLeave:c,className:o||i?"interactive-"+r.id:void 0,data:t,style:r,size:n},a.set&&a.set(e))}))),we.createElement("g",{transform:"translate("+n.cs.x+","+n.cs.y+")"},t.cs.v.map((function(e){return we.createElement(yr,{key:e.name,d:e,onClick:s,onMouseEnter:u,onMouseLeave:c,className:o||i?"interactive-"+r.id:void 0,data:t,style:r,size:n},a.combinations&&a.combinations(e))}))))}));function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function br(e){var t=e.data,n=e.size,r=e.style,i=e.elemOverlap,o=e.secondary,a=e.tooltip,l=e.suffix,s=e.transform,u=e.empty,c=e.combinationAddons,f=t.cs.bandWidth,d=n.cs.h+n.sets.h,h=n.cs.h,m=er("fill"+l,!a&&"pnone-"+r.id,r.classNames.bar);return we.createElement("g",{transform:s},t.cs.v.map((function(e){var n=t.cs.x(e.name);if(u&&!o)return we.createElement("rect",{key:e.name,x:n,y:h,height:0,width:f,className:m,style:r.styles.bar},a&&we.createElement("title",null));var l=i(e);if(0===l)return null;var s=t.cs.y(l),p=a&&we.createElement("title",null,e.name+" ∩ "+a+": "+l),y=o?we.createElement("path",{key:e.name,transform:"translate("+n+", "+s+")",d:"M0,-1 l"+f+",0 l0,2 l"+-f+",0 L-"+t.triangleSize+",-"+t.triangleSize+" L-"+t.triangleSize+","+t.triangleSize+" Z",className:m},p):we.createElement("rect",{key:e.name,x:n,y:s,height:h-s,width:f,className:m,style:r.styles.bar},p),_=tr(d),v=c.map((function(t){var r=_(t),i=t.render({set:e,width:f,height:t.size});return i?we.createElement("g",{key:t.name,transform:"translate("+n+","+r+")"},i):null})).filter(Boolean);return 0===v.length?y:we.createElement("g",{key:e.name},y,v)})))}function xr(e){var t=e.data,n=e.size,r=e.style,i=e.elemOverlap,o=e.suffix,a=e.secondary,l=e.empty,s=e.tooltip,u=e.setAddons,c=e.transform,f=n.sets.w,d=n.sets.w+n.labels.w+n.cs.w,h=t.sets.bandWidth,m=er("fill"+o,!s&&" pnone-"+r.id,r.classNames.bar);return we.createElement("g",{transform:c},t.sets.v.map((function(e){var n=t.sets.y(e.name);if(l&&!a)return we.createElement("rect",{key:e.name,x:f,y:n,width:0,height:h,className:m,style:r.styles.bar},s&&we.createElement("title",null));var o=i(e);if(0===o)return null;var c=t.sets.x(o),p=s&&we.createElement("title",null,e.name+" ∩ "+s+": "+o),y=a?we.createElement("path",{key:e.name,transform:"translate("+c+", "+(n+h)+")",d:"M1,0 l0,"+-h+" l-2,0 l0,"+h+" L-"+t.triangleSize+","+t.triangleSize+" L"+t.triangleSize+","+t.triangleSize+" Z",className:m},p):we.createElement("rect",{key:e.name,x:c,y:n,width:f-c,height:h,className:m,style:r.styles.bar},p),_=tr(d),v=u.map((function(t){var r=_(t),i=t.render({set:e,width:t.size,height:h});return i?we.createElement("g",{key:t.name,transform:"translate("+r+","+n+")"},i):null})).filter(Boolean);return 0===v.length?y:we.createElement("g",{key:e.name},y,v)})))}var wr=[],kr=we.memo((function(e){var t=e.size,n=e.data,r=e.style,i=e.onHover,o=e.secondary,a=e.queries,l=t.sets.addons.some((function(e){return null!=e.renderQuery}))||t.cs.addons.some((function(e){return null!=e.renderQuery})),s=Q((function(){return a.map((function(e){return gr({},e,{overlap:Le(e,"intersection"),elemOverlap:l?ze(e,"intersection"):null})}))}),[a,l]);function u(e,t,n,r){return gr({},e,{render:function(i){var o=n(i.set);return e.renderQuery?e.renderQuery(gr({query:t,overlap:o,secondary:r},i)):null}})}return we.createElement("g",{className:i&&!o?"pnone-"+r.id:void 0},we.createElement("g",{transform:"translate("+t.sets.x+","+t.sets.y+")"},s.map((function(e,a){return we.createElement(xr,{key:e.name,data:n,size:t,style:r,elemOverlap:e.overlap,suffix:"Q"+a+"-"+n.id,secondary:o||a>0,tooltip:i&&!(o||a>0)?void 0:e.name,setAddons:0===t.sets.addons.length?wr:t.sets.addons.map((function(t){return u(t,e,e.elemOverlap,o||a>0)}))})}))),we.createElement("g",{transform:"translate("+t.cs.x+","+t.cs.y+")"},s.map((function(e,a){return we.createElement(br,{key:e.name,data:n,size:t,style:r,elemOverlap:e.overlap,suffix:"Q"+a+"-"+n.id,secondary:o||a>0,tooltip:i&&!(o||a>0)?void 0:e.name,combinationAddons:0===t.cs.addons.length?wr:t.cs.addons.map((function(t){return u(t,e,e.elemOverlap,o||a>0)}))})}))))}));function Mr(e){var t=e.data,n=e.size,r=e.style,i=e.selection;if(!i||"set"!==i.type)return null;var o=i;return we.createElement("rect",{y:t.sets.y(o.name),width:n.labels.w+n.cs.w+n.sets.after,height:t.sets.bandWidth,className:"selectionHint-"+r.id})}function Sr(e){var t=e.data,n=e.size,r=e.style,i=e.selection,o=t.sets.bandWidth/2,a=t.cs.cx,l=t.r,s=n.sets.h+n.sets.after,u=t.cs.bandWidth;if(!i||"set"===i.type)return null;var c=i;return we.createElement("g",{transform:"translate("+(n.labels.w+t.cs.x(c.name))+", 0)"},we.createElement("rect",{width:u,height:s,className:"selectionHint-"+r.id}),t.sets.v.filter((function(e){return c.sets.has(e)})).map((function(e){return we.createElement(pr,{key:e.name,r:1.1*l,cx:a,cy:t.sets.y(e.name)+o,name:e.name,className:er("fillSelection-"+r.id,"pnone-"+r.id,r.classNames.dot),style:r.styles.dot})})),c.sets.size>1&&we.createElement("line",{x1:a,y1:t.sets.y(t.sets.v.find((function(e){return c.sets.has(e)})).name)+o,x2:a,y2:t.sets.y(t.sets.rv.find((function(e){return c.sets.has(e)})).name)+o,className:"upsetSelectionLine-"+t.id}))}var Er=[];function Nr(e){return null!=e&&!Array.isArray(e)}function Ar(){return 0}function Or(e){var t=e.size,n=e.data,r=e.style,i=e.selection,o=e.onHover,a=r.emptySelection,l=i?function(e){var t=Me(e);return function(e){return t(e.elems).intersection}}(Array.isArray(i)?i:i.elems):Ar,s=Array.isArray(i)?"Array("+i.length+")":null==i?void 0:i.name,u=t.sets.addons.some((function(e){return null!=e.renderSelection}))||t.cs.addons.some((function(e){return null!=e.renderSelection})),c=i&&u?function(e){var t=Ee(e);return function(e){return t(e.elems).intersection}}(Array.isArray(i)?i:i.elems):null;function f(e){return gr({},e,{render:function(t){var n=c?c(t.set):null;return e.renderSelection?e.renderSelection(gr({selection:i,selectionColor:r.selectionColor,overlap:n},t)):null}})}return we.createElement("g",{className:o?"pnone-"+r.id:void 0},(i||a)&&we.createElement(br,{data:n,size:t,style:r,transform:"translate("+t.cs.x+","+t.cs.y+")",empty:a&&!i,elemOverlap:l,suffix:"Selection-"+r.id,tooltip:o?void 0:s,combinationAddons:0===t.cs.addons.length?Er:t.cs.addons.map(f)}),(i||a)&&we.createElement(xr,{data:n,size:t,style:r,transform:"translate("+t.sets.x+","+t.sets.y+")",empty:a&&!i,elemOverlap:l,suffix:"Selection-"+r.id,tooltip:o?void 0:s,setAddons:0===t.sets.addons.length?Er:t.sets.addons.map(f)}),we.createElement("g",{transform:"translate("+t.labels.x+","+t.labels.y+")"},Nr(i)&&we.createElement(Mr,{data:n,size:t,style:r,selection:i}),Nr(i)&&we.createElement(Sr,{data:n,size:t,style:r,selection:i})))}var Cr=we.forwardRef((function(e,t){var n=Yn(e),r=n.className,i=n.style,o=n.width,a=n.height,l=n.padding,s=n.barPadding,u=n.sets,c=n.combinations,f=n.selection,d=void 0===f?null:f,h=n.onClick,m=n.onHover,p=n.theme,y=n.dotPadding,_=n.childrenFactories,v=n.widthRatios,g=n.heightRatios,b=n.queries,x=void 0===b?[]:b,w=n.setAddons,k=n.combinationAddons,M=n.alternatingBackgroundColor,S=n.bandScale,E=n.barLabelOffset,N=n.classNames,A=n.color,O=n.combinationName,C=n.combinationNameAxisOffset,L=n.exportButtons,z=n.fontFamily,P=n.fontSizes,T=n.hoverHintColor,j=n.notMemberColor,I=n.numericScale,R=n.queryLegend,U=n.selectionColor,H=n.setName,B=n.setNameAxisOffset,D=n.styles,W=n.textColor,F=n.emptySelection,q=Q((function(){return nr()}),[z,P,W,T,A,U,j,M]),V=Q((function(){return function(e,t,n,r,i,o,a,l,s,u){return{styles:e,classNames:t,cs:{name:n,offset:r},sets:{name:i,offset:o},emptySelection:u,id:a,barLabelOffset:l,selectionColor:s}}(D,N,O,C,H,B,q,E,U,F)}),[D,N,E,O,C,H,B,q,U,F]),$=Q((function(){return function(e,t,n,r,i,o,a,l){var s=a.reduce((function(e,t){return e+("before"===t.position?t.size:0)}),0),u=a.reduce((function(e,t){return e+("before"!==t.position?t.size:0)}),0),c=l.reduce((function(e,t){return e+("before"===t.position?t.size:0)}),0),f=l.reduce((function(e,t){return e+("before"!==t.position?t.size:0)}),0),d=t-2*n-20-f-c,h=e-2*n-s-u,m=h*i[0],p=h*i[1],y=d*o[0];return{id:nr(),cs:{before:c,after:f,x:s+m+p,y:c,w:h-m-p,h:y,addons:l},labels:{x:s+m,y:c+y,w:p,h:d-y},sets:{before:s,after:u,x:s,y:c+y,w:m,h:d-y,addons:a},padding:r,legend:{x:e/2},margin:n,w:e,h:t}}(o,a,l,s,v,g,w,k)}),[o,a,l,s,v,g,w,k]),G=Q((function(){var e;return lr(u,c,$,I,S,E+Number.parseInt(null!==(e=P.barLabel)&&void 0!==e?e:"10"),y,s)}),[u,c,$,I,S,E,P.barLabel,y,s]),Z="\n  .root-"+q+" {\n    "+(z?"font-family: "+z+";":"")+"\n  }\n  .axisTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.axisTick?"font-size: "+P.axisTick+";":"")+"\n    text-anchor: middle;\n  }\n  .barTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.barLabel?"font-size: "+P.barLabel+";":"")+"\n  }\n  .cBarTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.barLabel?"font-size: "+P.barLabel+";":"")+"\n    text-anchor: middle;\n  }\n  .sBarTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.barLabel?"font-size: "+P.barLabel+";":"")+"\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-"+q+" {\n    "+(P.barLabel?"font-size: "+P.barLabel+";":"")+"\n    fill: "+T+";\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.setLabel?"font-size: "+P.setLabel+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.chartLabel?"font-size: "+P.chartLabel+";":"")+"\n    text-anchor: middle;\n  }\n  .sChartTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.chartLabel?"font-size: "+P.chartLabel+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n  .exportTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.barLabel?"font-size: "+P.barLabel+";":"")+"\n  }\n  .legendTextStyle-"+q+" {\n    fill: "+W+";\n    "+(P.legend?"font-size: "+P.legend+";":"")+"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  .startText-"+q+" {\n    text-anchor: start;\n  }\n  .endText-"+q+" {\n    text-anchor: end;\n  }\n  .pnone-"+q+" {\n    pointer-events: none;\n  }\n  .fillPrimary-"+q+" { fill: "+A+"; }\n  .fillSelection-"+q+" { fill: "+U+"; }\n  .fillNotMember-"+q+" { fill: "+j+"; }\n  .fillAlternating-"+q+" { fill: "+(M||"transparent")+"; }\n  .fillTransparent-"+q+" { fill: transparent; }\n\n  .selectionHint-"+q+" {\n    fill: transparent;\n    pointer-events: none;\n    stroke: "+U+";\n  }\n\n  .axisLine-"+q+" {\n    fill: none;\n    stroke: "+W+";\n  }\n  .clickAble-"+q+" {\n    cursor: pointer;\n  }\n\n  .hoverBar-"+q+" {\n    fill: transparent;\n  }\n\n  .interactive-"+q+":hover > .hoverBar-"+q+" {\n    stroke: "+T+";\n  }\n  .interactive-"+q+":hover > .hoverBarTextStyle-"+q+" {\n    display: unset;\n  }\n\n  .exportButtons-"+q+" {\n    text-anchor: middle;\n  }\n  .exportButton-"+q+" {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-"+q+":hover {\n    opacity: 1;\n  }\n  .exportButton-"+q+" > rect {\n    fill: none;\n    stroke: "+W+";\n  }\n\n  .upsetLine-"+G.id+" {\n    stroke-width: "+.6*G.r+";\n    stroke: "+A+";\n  }\n\n  .upsetSelectionLine-"+G.id+" {\n    stroke-width: "+.6*G.r*1.1+";\n    stroke: "+U+";\n    pointer-events: none;\n  }\n  "+x.map((function(e,t){return".fillQ"+t+"-"+G.id+" {\n    fill: "+e.color+";\n  }"})).join("\n")+"\n  ";return we.createElement("svg",{className:er("root-"+q,r),style:i,width:o,height:a,ref:t,"data-theme":null!=p?p:"light"},we.createElement("style",null,Z),we.createElement("defs",null,we.createElement("clipPath",{id:"clip-"+$.id},we.createElement("rect",{x:$.sets.w,y:0,width:$.labels.w,height:$.sets.h}))),R&&we.createElement(cr,{queries:x,size:$,style:V,data:G}),L&&we.createElement(ur,{transform:"translate("+($.w-2)+","+($.h-3)+")",styleId:q}),we.createElement("g",{transform:"translate("+l+","+l+")"},h&&we.createElement("rect",{width:$.cs.x,height:$.sets.y,onClick:function(){return h(null)},className:"fillTransparent-"+q}),we.createElement(mr,{size:$,style:V,data:G}),we.createElement(vr,{size:$,style:V,data:G,onClick:h,onHover:m,childrens:_}),we.createElement(Or,{size:$,style:V,data:G,onHover:m,selection:d}),we.createElement(kr,{size:$,style:V,data:G,onHover:m,queries:x,secondary:null!=m||null!=d})),e.children)}));var Lr={bandScale:function(e){return null==e||"band"===e||"function"==typeof e},classNames:function(e){var t=["axisTick","bar","barLabel","chartLabel","dot","legend","setLabel"];return null==e||Object.keys(e).every((function(e){return t.includes(e)&&"string"==typeof e}))},combinations:function(e){return null==e||Array.isArray(e)&&e.every(nt.isSetCombination)||nt.isGenerateSetCombinationOptions(e)},fontSizes:function(e){var t=["axisTick","barLabel","chartLabel","legend","setLabel"];return null==e||Object.keys(e).every((function(e){return t.includes(e)&&"string"==typeof e}))},heightRatios:function(e){return null==e||Array.isArray(e)&&2===e.length&&e.every((function(e){return"number"==typeof e}))},numericScale:function(e){return null==e||"linear"===e||"log"===e||"function"==typeof e},onClick:function(e){return null==e||"function"==typeof e},onHover:function(e){return null==e||"function"==typeof e},queries:function(e){return!e||Array.isArray(e)&&e.every(nt.isSetQuery)},selection:function(e){return null==e||Array.isArray(e)||nt.isSetLike(e)},sets:function(e){return Array.isArray(e)&&e.every(nt.isSet)},stringOrFalse:function(e){return null==e||"string"==typeof e||!1===e},style:function(e){return null==e||"object"==typeof e},styles:function(e){return null==e||"object"==typeof e},theme:function(e){return null==e||"light"===e||"dark"===e},widthRatios:function(e){return null==e||Array.isArray(e)&&3===e.length&&e.every((function(e){return"number"==typeof e}))}};function zr(e){return Yn(e)}function Pr(e,t){T(p(Cr,t),e)}function Tr(e,t){j(p(Cr,t),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);r.__exportStar(n(0),t),r.__exportStar(n(4),t)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return l})),n.d(t,"__param",(function(){return s})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return p})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return _})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return g})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return x})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return k})),n.d(t,"__classPrivateFieldGet",(function(){return M})),n.d(t,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function l(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(s,u):c(o[0][2],n)}catch(e){c(o[0][3],e)}var n}function s(e){l("next",e)}function u(e){l("throw",e)}function c(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(0),o=n(1),a=n(6);class l extends r.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:l.model_name,_model_module:l.model_module,_model_module_version:l.model_module_version,_view_name:l.view_name,_view_module:l.view_module,_view_module_version:l.view_module_version})}}t.UpSetModel=l,l.serializers=Object.assign({},r.DOMWidgetModel.serializers),l.model_name="UpSetModel",l.model_module=i.MODULE_NAME,l.model_module_version=i.MODULE_VERSION,l.view_name="UpSetView",l.view_module=i.MODULE_NAME,l.view_module_version=i.MODULE_VERSION;class s extends r.DOMWidgetView{constructor(){super(...arguments),this.props={sets:[],width:300,height:300},this.elems=[],this.elemToIndex=new Map,this.changeSelection=e=>{if(this.model.off("change",this.changed_prop,null),e){const t={name:e.name,type:e.type,cardinality:e.cardinality,elems:e.elems.map(e=>this.elemToIndex.get(e))};"set"!==e.type&&(t.degree=e.degree,t.set_names=Array.from(e.sets).map(e=>e.name)),this.model.set("value",t)}else this.model.set("value",null);this.props.selection=e,this.renderImpl(),this.touch(),this.model.on("change",this.changed_prop,this)}}render(){this.model.on("change",this.changed_prop,this),this.updateProps(this.stateToProps())}stateToProps(){const e={},t=this.model.get_state(!0),n=e=>e.replace(/([-_]\w)/g,e=>e[1].toUpperCase());return Object.keys(t).forEach(r=>{let i=t[r];if(null==i||Array.isArray(i)&&0===i.length||r.startsWith("_")&&"_queries"!==r&&"_sets"!==r||"layout"===r)return;const o=(e=>"value"===e?"selection":e.startsWith("_")?n(e.slice(1)):n(e))(r);if("fontSizes"===o||"combinations"===o){const e={};Object.keys(i).forEach(t=>{e[n(t)]=i[t]}),i=e}e[o]=i}),e}updateProps(e){e&&Object.assign(this.props,e),this.fixProps(e),this.renderImpl()}fixProps(e){const t=this.props;if(null!=e.elems&&(this.elems=e.elems,this.elemToIndex.clear(),this.elems.forEach((e,t)=>this.elemToIndex.set(e,t))),null!=e.sets&&(t.sets=a.fixSets(t.sets,this.elems)),null!=e.combinations){const e=a.fixCombinations(t.combinations,t.sets,this.elems);null==e?delete t.combinations:t.combinations=e}e.selection&&(t.selection=a.resolveSet(e.selection,t.sets,t.combinations,this.elems)),e.queries&&(t.queries=e.queries.map(e=>o.isSetQuery(e)?Object.assign({},e,{set:a.resolveSet(e.set,t.sets,t.combinations,this.elems)}):o.isElemQuery(e)?Object.assign({},e,{elems:Array.from(e.elems).map(e=>this.elems[e])}):e)),"click"===this.model.get("mode")?(t.onClick=this.changeSelection,delete t.onHover):(t.onHover=this.changeSelection,delete t.onClick)}changed_prop(e,t){console.log(e,t)}renderImpl(){const e=this.el.getBoundingClientRect(),t=Object.assign({},this.props);e.width&&e.height?(t.width=e.width,t.height=e.height,o.renderUpSet(this.el,t)):requestAnimationFrame(()=>{const e=this.el.getBoundingClientRect();t.width=e.width||600,t.height=e.height||400,o.renderUpSet(this.el,t)})}}t.UpSetView=s},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.fixSets=function(e,t){return e?r.asSets(e.map(e=>Object.assign({},e,{elems:e.elems.map(e=>t[e])}))):[]},t.fixCombinations=function(e,t,n){if(!e||Array.isArray(e)&&0===e.length)return null;if(!Array.isArray(e))return r.generateCombinations(t,Object.assign({elems:n},e));const i=new Map(t.map(e=>[e.name,e]));return r.asCombinations(e.map(e=>Object.assign({},e,{elems:e.elems.map(e=>n[e])})),"composite",e=>e.set_names.map(e=>i.get(e)).filter(Boolean))},t.resolveSet=function(e,t,n,r){if(Array.isArray(e))return e.map(e=>r[e]);const i=e;if(!i.type||"set"===i.type){const e=t.find(e=>e.name===i.name);if(e)return e}return n.find(e=>e.name===i.name)}}])}));
//# sourceMappingURL=embed-bundle.js.map